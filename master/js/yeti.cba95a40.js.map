{"version":3,"sources":["webpack:///./src/components/yeti/Panel.vue?aa77","webpack:///./src/assets/img/yeti/logo-ensg.avif","webpack:///./src/views/portals/YetiView.vue?5778","webpack:///./src/components/yeti/SubPanelMethods.vue?b87b","webpack:///./src/assets/img/yeti/logo-fondation-petzl.avif","webpack:///./src/components/yeti/Tabs.vue?9d12","webpack:///./src/components/yeti/YetiMap.vue?3e39","webpack:///./src/assets/img/yeti/levels-danger.svg","webpack:///./src/views/portals/YetiView.vue?a0ec","webpack:///./src/components/yeti/Counter.vue?91fa","webpack:///./src/components/yeti/SubPanelCourse.vue?b8c0","webpack:///./src/views/portals/YetiView.vue?a440","webpack:///./src/components/yeti/Article.vue?74f5","webpack:///./src/components/yeti/SubPanelTitle.vue?130a","webpack:///./src/components/yeti/SubPanelTitle.vue?5034","webpack:///src/components/yeti/Article.vue","webpack:///./src/components/yeti/Article.vue?a0ae","webpack:///./src/components/yeti/Article.vue?2671","webpack:///./src/components/yeti/Panel.vue?16b8","webpack:///src/components/yeti/Panel.vue","webpack:///./src/components/yeti/Panel.vue?9221","webpack:///./src/components/yeti/Panel.vue?ac14","webpack:///./src/components/yeti/SubPanelBra.vue?1718","webpack:///./src/components/yeti/Counter.vue?dfdf","webpack:///src/components/yeti/Counter.vue","webpack:///./src/components/yeti/Counter.vue?40ec","webpack:///./src/components/yeti/Counter.vue?ce80","webpack:///src/components/yeti/SubPanelBra.vue","webpack:///./src/components/yeti/SubPanelBra.vue?a7d8","webpack:///./src/components/yeti/SubPanelBra.vue?7466","webpack:///./src/components/yeti/SubPanelCourse.vue?bab3","webpack:///./src/components/yeti/FeaturesList.vue?aba2","webpack:///src/components/yeti/FeaturesList.vue","webpack:///./src/components/yeti/FeaturesList.vue?8861","webpack:///./src/components/yeti/FeaturesList.vue?d954","webpack:///src/components/yeti/SubPanelCourse.vue","webpack:///./src/components/yeti/SubPanelCourse.vue?0981","webpack:///./src/components/yeti/SubPanelCourse.vue?1101","webpack:///./src/components/yeti/SubPanelMethods.vue?8da2","webpack:///src/components/yeti/SubPanelMethods.vue","webpack:///./src/components/yeti/SubPanelMethods.vue?6b02","webpack:///./src/components/yeti/SubPanelMethods.vue?daba","webpack:///./src/components/yeti/Tabs.vue?f6ca","webpack:///src/components/yeti/Tabs.vue","webpack:///./src/components/yeti/Tabs.vue?9431","webpack:///./src/components/yeti/Tabs.vue?55b3","webpack:///./src/components/yeti/ValidationButton.vue?2d44","webpack:///src/components/yeti/ValidationButton.vue","webpack:///./src/components/yeti/ValidationButton.vue?a57f","webpack:///./src/components/yeti/ValidationButton.vue?37bc","webpack:///./src/components/yeti/YetiMap.vue?8cfe","webpack:///src/components/yeti/YetiMap.vue","webpack:///./src/components/yeti/YetiMap.vue?a235","webpack:///./src/components/yeti/YetiMap.vue?62e8","webpack:///src/views/portals/YetiView.vue","webpack:///./src/views/portals/YetiView.vue?2527","webpack:///./src/views/portals/YetiView.vue?b1ac","webpack:///./src/assets/img/yeti/logo-ensg.jpg","webpack:///./src/components/yeti/SubPanelBra.vue?b30e","webpack:///./src/assets/img/yeti/logo-fondation-petzl.webp","webpack:///./src/assets/img/yeti/logo-ensg.webp","webpack:///./src/components/yeti/SubPanelTitle.vue?7462","webpack:///./src/components/yeti/Article.vue?9bcd","webpack:///./src/components/yeti/ValidationButton.vue?1942","webpack:///./src/components/yeti/FeaturesList.vue?7099","webpack:///./src/assets/img/yeti/logo-fondation-petzl.jpg"],"names":["module","exports","render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","_v","directives","name","rawName","articles","disclaimer","on","onSubmitDisclaimer","model","value","callback","$$v","checkDisclaimer","expression","_e","$route","params","page","faq","fullPath","tabs","activeTab","hasFeatures","$event","ref","currentError","promise","compute","bra","mountains","method","warnAboutMethodBra","yetiMap","features","featuresTitle","onGpxLoaded","_m","gpx","validFormData","minZoom","mapZoom","yetiExtent","yetiImage","areaOk","staticRenderFns","_s","title","document","fields","description","_t","script","component","components","SubPanelTitle","MarkdownSection","props","article","type","Object","required","computed","id","constants","$language","current","watch","cookDocument","methods","c2c","result","index","Number","class","isDifferent","staticStyle","$gettext","domProps","high","onChange","altiThreshold","low","showMountainsList","countVisibleMountains","undefined","_l","mountainsForMassif","massif","key","mountain","urls","url","isPrimary","Boolean","default","visibleMountains","values","reduce","a","b","length","event","prop","target","$emit","assign","hasFeaturesTitle","onEditNewFeaturesTitle","onEditFeaturesTitle","indexOf","keyCode","preventDefault","editableFeaturesTitle","onRemoveFeatures","map","_q","format","downloadCourse","loading","onLoadGpx","uploadGpx","feature","i","showFeature","hideFeature","nbPointsOnFeature","removeFeature","Array","setStyle","get","getGeometry","getCoordinates","String","newFeaturesTitle","formats","e","innerText","$nextTick","$refs","focus","gpxFileInput","click","removeFeatures","reader","FileReader","onload","readAsText","files","downloadFeatures","ol","olFormat","extension","mimetype","set","filename","setFilename","content","writeFeatures","featureProjection","utils","ext","keys","item","orientation","join","label","text","potentialDangerOptions","min","max","potentialDanger","val","wetSnow","groupSize","DANGER","mrd","mre","mrp","groupSizes","data","push","tab","refInFor","setActiveTab","setActiveTabKeyboard","ARROW_LEFT","ARROW_RIGHT","ARROW_DOWN","dir","tabindex","Promise","showLegend","mapLegend","style","color","comment","background","onUpdateOpacityYetiLayer","opacityYetiLayer","YETI_ATTRIBUTION","YETI_LAYER_OPACITY","YETI_URL_MOUNTAINS","YETI_URL_AREAS","normalLineStyle","stroke","width","highlightedLineStyle","validMinZoom","computedExtent","computedData","featuresTitleFromSource","promiseDocument","yetiLayerLoaded","areas","levelStrokeWidth","levelStrokeOpacity","lineWidthStroke","Math","opacityStroke","lineDashStroke","lineDash","addFeaturesFromGpx","localFeaturesTitle","drawInteraction","setActive","modifyInteraction","snapInteraction","drawYetiImage","drawExtent","yetiLayer","source","imageExtent","opacity","extentLayer","areasLayer","renderMode","areasLayerStyle","featuresLayer","featuresLayerSource","getSource","mapView","view","getView","addLayer","doc","document_id","lang","addEvents","addInteractions","projection","getExtent","setSource","clear","un","onPointerMove","onClick","onMapMoveEnd","onFeature","addInteraction","onDrawStart","onDrawEnd","onModifyEnd","floor","getZoom","setVisibleMountains","isAreaOK","extent","fit","setZoom","loadingExternalFeatures","gpxFormat","readFeatures","addFeature","getFeaturesTitleFromGpx","emitFeaturesEvent","fitMapToFeatures","documentGeometry","geometry","geom_detail","getFeaturesTitleFromDocument","getType","lines","getLineStrings","toBeRemoved","confirm","getFeaturesLayerFeatures","$router","replace","getFeatures","properties","getProperties","$documentUtils","getDocumentTitle","addEventListener","onKeyWhileDrawing","removeEventListener","removeLastPoint","xml","DOMParser","parseFromString","imageBase64","getElementsByTagName","textContent","imageBbox","setLegend","JSON","parse","items","forEach","extentFill","minX","minY","maxX","maxY","setOpacity","allMountains","sortMountainsByMassif","sortedMountains","sort","mapExtent","filter","polygon","intersectsExtent","rawFeatures","transform","area","rawCoords","coords","j","addFeatures","YETI_URL_BASE","VALID_FORM_DATA","braMaxMrd","YetiArticle","Panel","SubPanelBra","SubPanelCourse","SubPanelMethods","Tabs","ValidationButton","YetiMap","showDisclaimer","errors","simple","full","method_bra","altitude","zoom","ok","yeti","yeti_prefix","yeti_unauthorized","formError","isBraMax","newValue","$localStorage","check","mrdIsNotApplicable","setCurrentError","window","alert","extendedExtent","extendExtent","yetiUrl","getYetiUrl","clearLayers","extendedFactor","extendedValue","err","errorText","response","status","bbox","braLow","braAltiThreshold","compass"],"mappings":"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","file":"js/yeti.cba95a40.js","sourcesContent":["export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Panel.vue?vue&type=style&index=0&id=6a9ccc68&scoped=true&lang=scss&\"","module.exports = __webpack_public_path__ + \"img/logo-ensg.12db1227.avif\";","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./YetiView.vue?vue&type=style&index=1&lang=scss&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SubPanelMethods.vue?vue&type=style&index=0&id=b13e18f2&scoped=true&lang=scss&\"","module.exports = __webpack_public_path__ + \"img/logo-fondation-petzl.1d7d0bdd.avif\";","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Tabs.vue?vue&type=style&index=0&id=c6260810&scoped=true&lang=scss&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./YetiMap.vue?vue&type=style&index=0&id=28368954&scoped=true&lang=scss&\"","module.exports = __webpack_public_path__ + \"img/levels-danger.ab1771e4.svg\";","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./YetiView.vue?vue&type=style&index=0&id=b6fce666&scoped=true&lang=scss&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Counter.vue?vue&type=style&index=0&id=79e0b738&scoped=true&lang=scss&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SubPanelCourse.vue?vue&type=style&index=0&id=05c9c091&scoped=true&lang=scss&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"section\"},[_c('html-header',{attrs:{\"title\":\"Yeti\"}}),_vm._v(\" \"),_c('div',{staticClass:\"box\"},[_c('h1',{staticClass:\"title is-1\"},[_c('div',{staticClass:\"yeti-icon is-inline-block\"},[_c('icon-yeti')],1),_vm._v(\" \"),_c('span',{directives:[{name:\"translate\",rawName:\"v-translate\"}]},[_vm._v(\"YETI - A preparation tool for your outing\")])])]),_vm._v(\" \"),_c('div',{staticClass:\"yeti-app\"},[(_vm.showDisclaimer)?_c('div',{staticClass:\"box yeti-overlay\"},[_c('yeti-article',{staticClass:\"yeti-article--disclaimer\",attrs:{\"article\":_vm.articles.disclaimer}}),_vm._v(\" \"),_c('form',{attrs:{\"action\":\"#\"},on:{\"submit\":_vm.onSubmitDisclaimer}},[_c('input-checkbox',{directives:[{name:\"translate\",rawName:\"v-translate\"}],model:{value:(_vm.checkDisclaimer),callback:function ($$v) {_vm.checkDisclaimer=$$v},expression:\"checkDisclaimer\"}},[_vm._v(\"\\n          I read and understood the interest and limitations of YETI\\n        \")]),_vm._v(\" \"),_c('button',{directives:[{name:\"translate\",rawName:\"v-translate\"}],staticClass:\"button is-primary\",attrs:{\"disabled\":!_vm.checkDisclaimer}},[_vm._v(\"Launch YETI\")])],1)],1):_vm._e(),_vm._v(\" \"),(_vm.$route.params.page === 'faq')?_c('div',{staticClass:\"box yeti-overlay\"},[_c('p',[_c('router-link',{directives:[{name:\"translate\",rawName:\"v-translate\"}],attrs:{\"to\":\".\"}},[_vm._v(\"Go back to YETI\")])],1),_vm._v(\" \"),_c('yeti-article',{staticClass:\"yeti-article--disclaimer\",attrs:{\"article\":_vm.articles.disclaimer}}),_vm._v(\" \"),_c('yeti-article',{attrs:{\"article\":_vm.articles.faq}})],1):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"columns yeti-content\"},[_c('div',{staticClass:\"column is-6-tablet is-6-desktop is-5-widescreen is-4-fullhd form-container\"},[_c('div',{staticClass:\"columns mb-0 yeti-columns--reverse is-mobile\"},[_c('ul',{staticClass:\"column is-narrow pb-0\"},[_c('li',[_c('router-link',{directives:[{name:\"translate\",rawName:\"v-translate\"}],staticClass:\"is-block yetitabs-link\",attrs:{\"to\":_vm.$route.fullPath + '/faq'}},[_vm._v(\"\\n                FAQ?\\n              \")])],1)]),_vm._v(\" \"),_c('tabs',{attrs:{\"tabs\":_vm.tabs,\"active-tab\":_vm.activeTab,\"has-features\":_vm.hasFeatures},on:{\"update:activeTab\":function($event){_vm.activeTab=$event},\"update:active-tab\":function($event){_vm.activeTab=$event}}})],1),_vm._v(\" \"),_c('div',{staticClass:\"box\"},[_c('panel',{ref:\"panel0\",staticClass:\"is-relative\",attrs:{\"index\":0,\"active-tab\":_vm.activeTab}},[_c('validation-button',{staticClass:\"is-hidden-mobile yeti-validation--top\",attrs:{\"current-error\":_vm.currentError,\"loading\":_vm.promise,\"tabindex\":\"-1\"},on:{\"click\":_vm.compute}}),_vm._v(\" \"),_c('sub-panel-bra',{attrs:{\"bra\":_vm.bra,\"mountains\":_vm.mountains},on:{\"update:bra\":function($event){_vm.bra=$event}}}),_vm._v(\" \"),_c('sub-panel-methods',{attrs:{\"method\":_vm.method,\"bra\":_vm.bra},on:{\"update:method\":function($event){_vm.method=$event},\"warn-about-method-bra\":_vm.warnAboutMethodBra}}),_vm._v(\" \"),_c('validation-button',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.method.type),expression:\"method.type\"}],staticClass:\"yeti-validation--bottom\",attrs:{\"current-error\":_vm.currentError,\"loading\":_vm.promise},on:{\"click\":_vm.compute}})],1),_vm._v(\" \"),_c('panel',{ref:\"panel1\",attrs:{\"index\":1,\"active-tab\":_vm.activeTab}},[_c('sub-panel-course',{attrs:{\"map\":_vm.yetiMap,\"features\":_vm.features,\"features-title\":_vm.featuresTitle},on:{\"update:featuresTitle\":function($event){_vm.featuresTitle=$event},\"update:features-title\":function($event){_vm.featuresTitle=$event},\"gpx\":_vm.onGpxLoaded}})],1)],1),_vm._v(\" \"),_vm._m(0)]),_vm._v(\" \"),_c('yeti-map',{ref:\"map\",attrs:{\"gpx\":_vm.gpx,\"active-tab\":_vm.activeTab,\"valid-min-zoom\":_vm.validFormData.minZoom,\"map-zoom\":_vm.mapZoom,\"computed-extent\":_vm.yetiExtent,\"computed-data\":_vm.yetiImage,\"mountains\":_vm.mountains,\"area-ok\":_vm.areaOk,\"features\":_vm.features,\"features-title\":_vm.featuresTitle},on:{\"update:mapZoom\":function($event){_vm.mapZoom=$event},\"update:map-zoom\":function($event){_vm.mapZoom=$event},\"update:mountains\":function($event){_vm.mountains=$event},\"update:areaOk\":function($event){_vm.areaOk=$event},\"update:area-ok\":function($event){_vm.areaOk=$event},\"update:features\":function($event){_vm.features=$event},\"update:featuresTitle\":function($event){_vm.featuresTitle=$event},\"update:features-title\":function($event){_vm.featuresTitle=$event}}})],1)])],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"box yeti-logos\"},[_c('div',{staticClass:\"columns is-mobile is-vcentered\"},[_c('div',{staticClass:\"column has-text-centered\"},[_c('a',{attrs:{\"href\":\"http://www.ensg.eu\"}},[_c('picture',[_c('source',{attrs:{\"srcset\":require(\"@/assets/img/yeti/logo-ensg.webp\"),\"type\":\"image/webp\"}}),_vm._v(\" \"),_c('source',{attrs:{\"srcset\":require(\"@/assets/img/yeti/logo-ensg.avif\"),\"type\":\"image/avif\"}}),_vm._v(\" \"),_c('img',{attrs:{\"src\":require(\"@/assets/img/yeti/logo-ensg.jpg\"),\"alt\":\"Logo ENSG\",\"width\":\"120\",\"loading\":\"lazy\"}})])])]),_vm._v(\" \"),_c('div',{staticClass:\"column has-text-centered\"},[_c('a',{attrs:{\"href\":\"https://www.petzl.com/fondation/fondation-petzl?language=fr\"}},[_c('picture',[_c('source',{attrs:{\"srcset\":require(\"@/assets/img/yeti/logo-fondation-petzl.webp\"),\"type\":\"image/webp\"}}),_vm._v(\" \"),_c('source',{attrs:{\"srcset\":require(\"@/assets/img/yeti/logo-fondation-petzl.avif\"),\"type\":\"image/avif\"}}),_vm._v(\" \"),_c('img',{attrs:{\"src\":require(\"@/assets/img/yeti/logo-fondation-petzl.jpg\"),\"alt\":\"Logo Fondation Petzl\",\"width\":\"90\",\"loading\":\"lazy\"}})])])])])])}]\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.document)?_c('div',{staticClass:\"yeti-article\"},[_c('sub-panel-title',[_vm._v(_vm._s(_vm.title))]),_vm._v(\" \"),_c('markdown-section',{attrs:{\"document\":_vm.document,\"field\":_vm.fields.description,\"hide-title\":\"\"}})],1):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"columns is-mobile\"},[_c('div',{staticClass:\"column\"},[_c('h2',{staticClass:\"title is-3\"},[_vm._t(\"default\")],2)])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { render, staticRenderFns } from \"./SubPanelTitle.vue?vue&type=template&id=43c30758&scoped=true&\"\nvar script = {}\nimport style0 from \"./SubPanelTitle.vue?vue&type=style&index=0&id=43c30758&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"43c30758\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div class=\"yeti-article\" v-if=\"document\">\n    <sub-panel-title>{{ title }}</sub-panel-title>\n    <markdown-section :document=\"document\" :field=\"fields.description\" hide-title></markdown-section>\n  </div>\n</template>\n\n<script>\nimport SubPanelTitle from '@/components/yeti/SubPanelTitle.vue';\nimport c2c from '@/js/apis/c2c';\nimport constants from '@/js/constants';\nimport MarkdownSection from '@/views/document/utils/field-viewers/MarkdownSection';\n\nexport default {\n  components: {\n    SubPanelTitle,\n    MarkdownSection,\n  },\n  props: {\n    article: {\n      type: Object,\n      required: true,\n    },\n  },\n  data() {\n    return {\n      promise: null,\n    };\n  },\n  computed: {\n    id() {\n      return this.article.id;\n    },\n    title() {\n      return this.article.title;\n    },\n    document() {\n      return this.promise?.data ?? null;\n    },\n    fields() {\n      return constants.objectDefinitions.article.fields;\n    },\n    lang() {\n      return this.$language.current;\n    },\n  },\n  watch: {\n    lang() {\n      this.cookDocument();\n    },\n  },\n  mounted() {\n    this.cookDocument();\n  },\n  methods: {\n    cookDocument() {\n      // get document, and set promise only in then (no FOIT)\n      c2c.article.getCooked(this.id, this.$language.current).then((result) => {\n        this.promise = result;\n      });\n    },\n  },\n};\n</script>\n\n<style scoped lang=\"scss\">\n.yeti-article {\n  max-width: 1039px;\n  margin-top: 1.75em;\n}\n::v-deep {\n  h3 {\n    margin-top: 2em;\n  }\n  p {\n    margin: 1em 0;\n  }\n  ul {\n    list-style-type: disc;\n  }\n  figure img {\n    max-width: 90%;\n    max-height: 500px;\n  }\n}\n.yeti-article--disclaimer ::v-deep li {\n  margin: 2em 0;\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Article.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Article.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Article.vue?vue&type=template&id=62129744&scoped=true&\"\nimport script from \"./Article.vue?vue&type=script&lang=js&\"\nexport * from \"./Article.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Article.vue?vue&type=style&index=0&id=62129744&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"62129744\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"yeti-panel\",attrs:{\"role\":\"tabpanel\",\"id\":'panel' + _vm.index,\"aria-labelledby\":'tab' + _vm.index,\"hidden\":_vm.activeTab !== _vm.index}},[_vm._t(\"default\")],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div\n    class=\"yeti-panel\"\n    role=\"tabpanel\"\n    :id=\"'panel' + index\"\n    :aria-labelledby=\"'tab' + index\"\n    :hidden=\"activeTab !== index\"\n  >\n    <slot></slot>\n  </div>\n</template>\n\n<script>\nexport default {\n  props: {\n    index: {\n      type: Number,\n      required: true,\n    },\n    activeTab: {\n      type: Number,\n      required: true,\n    },\n  },\n};\n</script>\n\n<style scoped lang=\"scss\">\n@import '@/assets/sass/variables.scss';\n\n::v-deep {\n  a:hover,\n  a:focus {\n    text-decoration: underline;\n  }\n\n  h4 {\n    margin-top: 1rem;\n    margin-bottom: 0.25rem !important;\n  }\n\n  abbr {\n    text-decoration: none;\n    border-bottom: dotted 2px #aaa;\n  }\n\n  strong,\n  dt {\n    font-weight: bold;\n    color: $grey-dark;\n  }\n\n  .yeti-subpanel + .yeti-subpanel {\n    margin-top: 2rem;\n  }\n\n  .content-ul {\n    list-style: disc outside;\n    margin-left: 2em;\n  }\n\n  .yetiform-info {\n    font-size: 0.8em;\n    opacity: 0.75;\n  }\n\n  .yetiform-note {\n    position: relative;\n    font-size: 0.9em;\n    padding: 1em;\n    padding-left: 4em;\n    margin-bottom: 2em;\n    background-color: $white-ter;\n    border-radius: 2px;\n  }\n\n  .yetiform-note::before {\n    content: '?';\n    position: absolute;\n    top: 1em;\n    left: 1em;\n    color: white;\n    font-size: 1.14em;\n    font-weight: bold;\n    text-align: center;\n    height: 1.375em;\n    width: 1.375em;\n    line-height: 1.4em;\n    background-color: rgba(0, 60, 136, 0.5);\n    border-radius: 2px;\n  }\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Panel.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Panel.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Panel.vue?vue&type=template&id=6a9ccc68&scoped=true&\"\nimport script from \"./Panel.vue?vue&type=script&lang=js&\"\nexport * from \"./Panel.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Panel.vue?vue&type=style&index=0&id=6a9ccc68&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6a9ccc68\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"yeti-subpanel\"},[_c('sub-panel-title',[_c('span',{directives:[{name:\"translate\",rawName:\"v-translate\"}]},[_vm._v(\"Danger level\")])]),_vm._v(\" \"),_c('div',{staticClass:\"columns is-mobile\"},[_c('div',{staticClass:\"column\"},[_c('div',{staticClass:\"inputs-bra\",class:{ 'inputs-bra-different': _vm.bra.isDifferent }},[_c('svg',{attrs:{\"viewBox\":\"0 0 100 100\",\"width\":\"120\",\"height\":\"120\"}},[_c('polygon',{staticStyle:{\"fill\":\"none\",\"stroke\":\"#000\",\"stroke-miterlimit\":\"10\"},attrs:{\"points\":\"2.2,89.5 97.5,89.5 62.7,11.9 48,32.9 31.8,25.5 \"}}),_vm._v(\" \"),_c('line',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.bra.isDifferent),expression:\"bra.isDifferent\"}],staticStyle:{\"fill\":\"none\",\"stroke\":\"#000\",\"stroke-miterlimit\":\"10\"},attrs:{\"x1\":\"10\",\"y1\":\"61.5\",\"x2\":\"90\",\"y2\":\"61.5\"}})]),_vm._v(\" \"),_c('div',{staticClass:\"input-bra-high select is-small\"},[_c('select',{attrs:{\"id\":\"selectBra\",\"aria-label\":_vm.$gettext('High danger level from the avalanche bulletin')},domProps:{\"value\":_vm.bra.high},on:{\"change\":function($event){return _vm.onChange($event, 'high')}}},[_c('option',{attrs:{\"selected\":\"\"},domProps:{\"value\":null}}),_vm._v(\" \"),_c('option',{domProps:{\"value\":1}},[_vm._v(\"1\")]),_vm._v(\" \"),_c('option',{domProps:{\"value\":2}},[_vm._v(\"2\")]),_vm._v(\" \"),_c('option',{domProps:{\"value\":3}},[_vm._v(\"3\")]),_vm._v(\" \"),_c('option',{domProps:{\"value\":4}},[_vm._v(\"4\")])])]),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.bra.isDifferent),expression:\"bra.isDifferent\"}],staticClass:\"input-bra-threshold control\"},[_c('label',{directives:[{name:\"translate\",rawName:\"v-translate\"}],attrs:{\"for\":\"inputThreshold\"}},[_vm._v(\"Altitude\")]),_vm._v(\" \"),_c('input',{staticClass:\"input is-small\",attrs:{\"id\":\"inputThreshold\",\"type\":\"number\",\"min\":\"0\",\"max\":\"4800\",\"step\":\"100\",\"maxlength\":\"4\"},domProps:{\"value\":_vm.bra.altiThreshold},on:{\"change\":function($event){return _vm.onChange($event, 'altiThreshold')}}})]),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.bra.isDifferent),expression:\"bra.isDifferent\"}],staticClass:\"input-bra-low select is-small\"},[_c('select',{attrs:{\"aria-label\":\"$gettext('Low danger level from the avalanche bulletin')\"},domProps:{\"value\":_vm.bra.low},on:{\"change\":function($event){return _vm.onChange($event, 'low')}}},[_c('option',{attrs:{\"selected\":\"\"},domProps:{\"value\":null}}),_vm._v(\" \"),_c('option',{domProps:{\"value\":1}},[_vm._v(\"1\")]),_vm._v(\" \"),_c('option',{domProps:{\"value\":2}},[_vm._v(\"2\")]),_vm._v(\" \"),_c('option',{domProps:{\"value\":3}},[_vm._v(\"3\")]),_vm._v(\" \"),_c('option',{domProps:{\"value\":4}},[_vm._v(\"4\")])])])]),_vm._v(\" \"),_c('div',[_c('input-checkbox',{staticClass:\"control--bradifferent\",attrs:{\"value\":_vm.bra.isDifferent},on:{\"input\":function($event){return _vm.onChange($event, 'isDifferent')}}},[_c('span',{directives:[{name:\"translate\",rawName:\"v-translate\"}]},[_vm._v(\"Different high/low danger?\")])])],1)])]),_vm._v(\" \"),_c('div',{staticClass:\"yetimountains\"},[_c('div',[_c('p',{staticClass:\"yetimountains-title\",on:{\"click\":function($event){_vm.showMountainsList = !_vm.showMountainsList}}},[_c('span',{directives:[{name:\"translate\",rawName:\"v-translate\"}]},[_vm._v(\"Avalanche bulletins\")]),_vm._v(\" \"),(_vm.showVisibleMountains)?_c('counter',[_vm._v(_vm._s(_vm.countVisibleMountains))]):_vm._e(),_vm._v(\" \"),_c('fa-icon',{staticClass:\"yetimountains-arrow is-size-6 is-pulled-right has-cursor-pointer no-print\",attrs:{\"icon\":\"angle-down\",\"rotation\":_vm.showMountainsList ? 180 : undefined}})],1)]),_vm._v(\" \"),(_vm.showMountainsList)?_c('div',[(_vm.showVisibleMountains)?_c('div',[_c('p',{directives:[{name:\"translate\",rawName:\"v-translate\"}],staticClass:\"column yetiform-info\"},[_vm._v(\"Get avalanche bulletins from Mto-France website\")]),_vm._v(\" \"),_c('dl',_vm._l((_vm.mountains.visibleMountains),function(mountainsForMassif,massif){return _c('div',{key:massif},[_c('dt',{staticClass:\"yetimountains-listtitle\"},[_vm._v(\"\\n              \"+_vm._s(massif)+\"\\n            \")]),_vm._v(\" \"),_c('div',{staticClass:\"yetimountains-list\"},_vm._l((mountainsForMassif),function(mountain){return _c('dd',{key:mountain.title,staticClass:\"yetimountains-listelement\"},[_c('a',{attrs:{\"href\":mountain.urls[0].url,\"target\":\"_blank\"}},[_c('fa-icon',{attrs:{\"icon\":\"external-link-alt\"}}),_vm._v(\"\\n                  \"+_vm._s(mountain.title)+\"\\n                \")],1)])}),0)])}),0)]):_c('div',[_c('p',{directives:[{name:\"translate\",rawName:\"v-translate\"}],staticClass:\"column yetiform-info\"},[_vm._v(\"Massifs could not be loaded\")])])]):_vm._e()])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',{staticClass:\"yeti-counter\",class:{ 'has-background-primary': _vm.isPrimary }},[_vm._t(\"default\")],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <span class=\"yeti-counter\" :class=\"{ 'has-background-primary': isPrimary }\">\n    <slot />\n  </span>\n</template>\n\n<script>\nexport default {\n  props: {\n    isPrimary: {\n      type: Boolean,\n      default: false,\n    },\n  },\n};\n</script>\n\n<style scoped lang=\"scss\">\n@import '@/assets/sass/variables.scss';\n\n.yeti-counter {\n  display: inline-block;\n  width: 1.1rem;\n  height: 1.1rem;\n  vertical-align: 0.1rem;\n  margin-left: 0.25rem;\n  background: $grey-lighter;\n  color: $grey-darker;\n  border-radius: 50%;\n  font-size: 0.72em;\n  text-align: center;\n\n  &.has-background-primary {\n    color: $white;\n  }\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Counter.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Counter.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Counter.vue?vue&type=template&id=79e0b738&scoped=true&\"\nimport script from \"./Counter.vue?vue&type=script&lang=js&\"\nexport * from \"./Counter.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Counter.vue?vue&type=style&index=0&id=79e0b738&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"79e0b738\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div class=\"yeti-subpanel\">\n    <sub-panel-title><span v-translate>Danger level</span></sub-panel-title>\n    <div class=\"columns is-mobile\">\n      <div class=\"column\">\n        <div class=\"inputs-bra\" :class=\"{ 'inputs-bra-different': bra.isDifferent }\">\n          <svg viewBox=\"0 0 100 100\" width=\"120\" height=\"120\">\n            <polygon\n              style=\"fill: none; stroke: #000; stroke-miterlimit: 10\"\n              points=\"2.2,89.5 97.5,89.5 62.7,11.9 48,32.9 31.8,25.5 \"\n            />\n            <line\n              v-show=\"bra.isDifferent\"\n              style=\"fill: none; stroke: #000; stroke-miterlimit: 10\"\n              x1=\"10\"\n              y1=\"61.5\"\n              x2=\"90\"\n              y2=\"61.5\"\n            />\n          </svg>\n          <div class=\"input-bra-high select is-small\">\n            <select\n              id=\"selectBra\"\n              @change=\"onChange($event, 'high')\"\n              :value=\"bra.high\"\n              :aria-label=\"$gettext('High danger level from the avalanche bulletin')\"\n            >\n              <option :value=\"null\" selected />\n              <option :value=\"1\">1</option>\n              <option :value=\"2\">2</option>\n              <option :value=\"3\">3</option>\n              <option :value=\"4\">4</option>\n            </select>\n          </div>\n          <div v-show=\"bra.isDifferent\" class=\"input-bra-threshold control\">\n            <label for=\"inputThreshold\" v-translate>Altitude</label>\n            <input\n              id=\"inputThreshold\"\n              class=\"input is-small\"\n              type=\"number\"\n              min=\"0\"\n              max=\"4800\"\n              step=\"100\"\n              maxlength=\"4\"\n              @change=\"onChange($event, 'altiThreshold')\"\n              :value=\"bra.altiThreshold\"\n            />\n          </div>\n\n          <div v-show=\"bra.isDifferent\" class=\"input-bra-low select is-small\">\n            <select\n              @change=\"onChange($event, 'low')\"\n              :value=\"bra.low\"\n              aria-label=\"$gettext('Low danger level from the avalanche bulletin')\"\n            >\n              <option :value=\"null\" selected />\n              <option :value=\"1\">1</option>\n              <option :value=\"2\">2</option>\n              <option :value=\"3\">3</option>\n              <option :value=\"4\">4</option>\n            </select>\n          </div>\n        </div>\n\n        <div>\n          <input-checkbox\n            @input=\"onChange($event, 'isDifferent')\"\n            :value=\"bra.isDifferent\"\n            class=\"control--bradifferent\"\n          >\n            <span v-translate>Different high/low danger?</span>\n          </input-checkbox>\n        </div>\n      </div>\n    </div>\n\n    <div class=\"yetimountains\">\n      <div>\n        <p class=\"yetimountains-title\" @click=\"showMountainsList = !showMountainsList\">\n          <span v-translate>Avalanche bulletins</span>\n          <counter v-if=\"showVisibleMountains\">{{ countVisibleMountains }}</counter>\n          <fa-icon\n            class=\"yetimountains-arrow is-size-6 is-pulled-right has-cursor-pointer no-print\"\n            icon=\"angle-down\"\n            :rotation=\"showMountainsList ? 180 : undefined\"\n          />\n        </p>\n      </div>\n      <div v-if=\"showMountainsList\">\n        <div v-if=\"showVisibleMountains\">\n          <p class=\"column yetiform-info\" v-translate>Get avalanche bulletins from Mto-France website</p>\n          <dl>\n            <div v-for=\"(mountainsForMassif, massif) of mountains.visibleMountains\" :key=\"massif\">\n              <dt class=\"yetimountains-listtitle\">\n                {{ massif }}\n              </dt>\n              <div class=\"yetimountains-list\">\n                <dd class=\"yetimountains-listelement\" v-for=\"mountain of mountainsForMassif\" :key=\"mountain.title\">\n                  <a :href=\"mountain.urls[0].url\" target=\"_blank\">\n                    <fa-icon icon=\"external-link-alt\" />\n                    {{ mountain.title }}\n                  </a>\n                </dd>\n              </div>\n            </div>\n          </dl>\n        </div>\n        <div v-else>\n          <p class=\"column yetiform-info\" v-translate>Massifs could not be loaded</p>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport Counter from '@/components/yeti/Counter.vue';\nimport SubPanelTitle from '@/components/yeti/SubPanelTitle.vue';\n\nexport default {\n  components: { Counter, SubPanelTitle },\n  props: {\n    bra: {\n      type: Object,\n      default: null,\n    },\n    mountains: {\n      type: Object,\n      required: true,\n    },\n  },\n  data() {\n    return {\n      showMountainsList: false,\n    };\n  },\n  computed: {\n    showVisibleMountains() {\n      return this.countVisibleMountains >= 0;\n    },\n    countVisibleMountains() {\n      // if visibleMountains are set\n      if (this.mountains.visibleMountains) {\n        return Object.values(this.mountains.visibleMountains).reduce((a, b) => a + b.length, 0);\n      }\n      // else, return -1 (because 0 is not an error)\n      return -1;\n    },\n  },\n  watch: {\n    'bra.isDifferent': 'checkBraIsDifferent',\n  },\n  methods: {\n    onChange(event, prop) {\n      const value = prop === 'isDifferent' ? event : event.target.value;\n      this.$emit('update:bra', Object.assign(this.bra, { [prop]: value }));\n    },\n\n    checkBraIsDifferent() {\n      if (!this.bra.isDifferent) {\n        this.bra.low = null;\n        this.bra.altiThreshold = null;\n      }\n    },\n  },\n};\n</script>\n\n<style scoped lang=\"scss\">\n@import '@/assets/sass/variables.scss';\n\n.inputs-bra {\n  margin-left: 2rem;\n  position: relative;\n\n  .input-bra-high {\n    position: absolute;\n    left: 39px;\n    top: 62px;\n  }\n\n  .input-bra-threshold {\n    position: absolute;\n    left: 115px;\n    top: 40px;\n    width: 85px;\n  }\n\n  .input-bra-low {\n    position: absolute;\n    left: 39px;\n    top: 78px;\n  }\n}\n\n.inputs-bra-different {\n  .input-bra-high {\n    top: 45px;\n  }\n}\n\n.yetimountains {\n  border: 1px solid #dbdbdb;\n  border-radius: 4px;\n\n  &:hover {\n    border-color: #b5b5b5;\n  }\n\n  &-title {\n    cursor: pointer;\n    padding: 0.25rem 0.75rem;\n  }\n\n  &-arrow {\n    color: $primary;\n    margin-top: 0.25rem;\n  }\n\n  &-list {\n    columns: 3 170px;\n    padding: 0.75rem 2rem;\n  }\n\n  &-listtitle {\n    font-weight: bold;\n    padding: 0 0.75rem;\n  }\n}\n\n.yetimountains-listelement + .yetimountains-listtitle {\n  margin-top: 0.5rem;\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SubPanelBra.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SubPanelBra.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SubPanelBra.vue?vue&type=template&id=df986eea&scoped=true&\"\nimport script from \"./SubPanelBra.vue?vue&type=script&lang=js&\"\nexport * from \"./SubPanelBra.vue?vue&type=script&lang=js&\"\nimport style0 from \"./SubPanelBra.vue?vue&type=style&index=0&id=df986eea&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"df986eea\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"yeti-subpanel\"},[_c('sub-panel-title',[_c('span',{directives:[{name:\"translate\",rawName:\"v-translate\"}]},[_vm._v(\"Route\")])]),_vm._v(\" \"),(_vm.features.length)?_c('div',[_c('div',{staticClass:\"columns is-mobile\"},[_c('div',{staticClass:\"column\"},[_c('p',{staticClass:\"features-title\"},[_c('icon-route',{staticClass:\"icon document-icon\"}),_vm._v(\" \"),_c('fa-icon',{staticClass:\"icon edit-icon\",attrs:{\"icon\":\"pen\"}}),_vm._v(\" \"),_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.hasFeaturesTitle),expression:\"!hasFeaturesTitle\"},{name:\"translate\",rawName:\"v-translate\"}],staticClass:\"features-title-text features-title-placeholder\",on:{\"click\":_vm.onEditNewFeaturesTitle}},[_vm._v(\"\\n            Add title\\n          \")]),_vm._v(\" \"),_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.hasFeaturesTitle),expression:\"hasFeaturesTitle\"}],ref:\"featuresTitle\",staticClass:\"features-title-text features-title-content\",attrs:{\"tabindex\":\"0\",\"contenteditable\":\"\",\"spellcheck\":\"false\"},on:{\"blur\":_vm.onEditFeaturesTitle,\"keypress\":function($event){if(!$event.type.indexOf('key')&&$event.keyCode!==13){ return null; }$event.preventDefault();}}},[_vm._v(_vm._s(_vm.editableFeaturesTitle))])],1)]),_vm._v(\" \"),_c('div',{staticClass:\"column is-narrow\"},[_c('button',{staticClass:\"button is-secondary is-small\",on:{\"click\":_vm.onRemoveFeatures}},[_c('fa-icon',{staticClass:\"trash-icon\",attrs:{\"icon\":\"trash\"}}),_vm._v(\" \"),_c('span',{directives:[{name:\"translate\",rawName:\"v-translate\"}]},[_vm._v(\"Delete route\")])],1)])]),_vm._v(\" \"),_c('div',{staticClass:\"ml-5 mb-5\"},[_c('p',{directives:[{name:\"translate\",rawName:\"v-translate\"}],staticClass:\"yetiform-info is-italic is-marginless\"},[_vm._v(\"Lines chunks\")]),_vm._v(\" \"),_c('features-list',{attrs:{\"features\":_vm.features,\"map\":_vm.map}})],1),_vm._v(\" \"),_c('sub-panel-title',[_c('span',{directives:[{name:\"translate\",rawName:\"v-translate\"}]},[_vm._v(\"Export\")])]),_vm._v(\" \"),_c('div',{staticClass:\"columns is-vcentered is-mobile\"},[_c('div',{staticClass:\"column\"},[_c('ul',{staticClass:\"form-export\"},_vm._l((_vm.formats),function(type){return _c('li',{key:type,staticClass:\"control is-flex\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.format),expression:\"format\"}],staticClass:\"is-checkradio is-primary\",attrs:{\"id\":'format' + type,\"type\":\"radio\",\"name\":\"exportFormat\"},domProps:{\"value\":type,\"checked\":_vm._q(_vm.format,type)},on:{\"change\":function($event){_vm.format=type}}}),_vm._v(\" \"),_c('label',{attrs:{\"for\":'format' + type}},[_vm._v(_vm._s(type))])])}),0)]),_vm._v(\" \"),_c('div',{staticClass:\"column is-narrow\"},[_c('button',{directives:[{name:\"translate\",rawName:\"v-translate\"}],staticClass:\"button is-primary\",on:{\"click\":_vm.downloadCourse}},[_vm._v(\"Export route\")])])]),_vm._v(\" \"),_c('div',{staticClass:\"yetiform-note mt-5\"},[_c('p',{directives:[{name:\"translate\",rawName:\"v-translate\"}]},[_vm._v(\"Drawing tips\")]),_vm._v(\" \"),_c('ul',{staticClass:\"content-ul\"},[_c('li',[_c('strong',{directives:[{name:\"translate\",rawName:\"v-translate\"}],attrs:{\"translate-context\":\"yeti\"}},[_vm._v(\"Draw\")]),_vm._v(\" \"),_c('span',{directives:[{name:\"translate\",rawName:\"v-translate\"}]},[_vm._v(\"new lines chunks\")])]),_vm._v(\" \"),_c('li',[_c('strong',{directives:[{name:\"translate\",rawName:\"v-translate\"}],attrs:{\"translate-context\":\"yeti\"}},[_vm._v(\"Delete\")]),_vm._v(\" \"),_c('span',{directives:[{name:\"translate\",rawName:\"v-translate\"}]},[_vm._v(\"last point with the Backspace key\")])])]),_vm._v(\" \"),_c('p',{directives:[{name:\"translate\",rawName:\"v-translate\"}]},[_vm._v(\"On a drawn line\")]),_vm._v(\" \"),_c('ul',{staticClass:\"content-ul\"},[_c('li',[_c('strong',{directives:[{name:\"translate\",rawName:\"v-translate\"}],attrs:{\"translate-context\":\"yeti\"}},[_vm._v(\"Edit\")]),_vm._v(\" \"),_c('span',{directives:[{name:\"translate\",rawName:\"v-translate\"}]},[_vm._v(\"points by moving them\")])]),_vm._v(\" \"),_c('li',[_c('strong',{directives:[{name:\"translate\",rawName:\"v-translate\"}],attrs:{\"translate-context\":\"yeti\"}},[_vm._v(\"Create\")]),_vm._v(\" \"),_c('span',{directives:[{name:\"translate\",rawName:\"v-translate\"}]},[_vm._v(\"a new point on an existing line\")])]),_vm._v(\" \"),_c('li',[_c('strong',{directives:[{name:\"translate\",rawName:\"v-translate\"}]},[_vm._v(\"Delete a point\")]),_vm._v(\" \"),_c('span',{directives:[{name:\"translate\",rawName:\"v-translate\"}]},[_vm._v(\"with Alt + clic\")])])]),_vm._v(\" \"),_c('p',{directives:[{name:\"translate\",rawName:\"v-translate\"}]},[_vm._v(\"From the interface\")]),_vm._v(\" \"),_c('ul',{staticClass:\"content-ul\"},[_c('li',[_c('strong',{directives:[{name:\"translate\",rawName:\"v-translate\"}]},[_vm._v(\"Delete a line chunk\")])]),_vm._v(\" \"),_c('li',[_c('strong',{directives:[{name:\"translate\",rawName:\"v-translate\"}]},[_vm._v(\"Delete route\")]),_vm._v(\" \"),_c('span',{directives:[{name:\"translate\",rawName:\"v-translate\"}]},[_vm._v(\"to start or load a new one\")])])])])],1):_c('div',[_c('p',{directives:[{name:\"translate\",rawName:\"v-translate\"}]},[_vm._v(\"No route right now\")]),_vm._v(\" \"),_c('div',{staticClass:\"load-gpx\"},[_c('button',{directives:[{name:\"translate\",rawName:\"v-translate\"}],staticClass:\"button is-primary\",class:{ 'is-loading': _vm.loading },attrs:{\"disabled\":_vm.loading},on:{\"click\":_vm.onLoadGpx}},[_vm._v(\"\\n        Upload a GPS track\\n      \")]),_vm._v(\" \"),_c('div',{staticClass:\"control upload-button\"},[_c('input',{ref:\"gpxFileInput\",attrs:{\"type\":\"file\",\"accept\":\".gpx\"},on:{\"change\":_vm.uploadGpx}})]),_vm._v(\" \"),_c('div',{staticClass:\"yetiform-note mt-5\"},[_c('p',[_c('strong',{directives:[{name:\"translate\",rawName:\"v-translate\"}]},[_vm._v(\"Draw right on the map\")]),_vm._v(\" \"),_c('span',{directives:[{name:\"translate\",rawName:\"v-translate\"}]},[_vm._v(\"to start a new route\")])])])])])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('ul',{staticClass:\"featureslist\"},_vm._l((_vm.features),function(feature,i){return _c('li',{key:i,staticClass:\"featureslist-item tag\",on:{\"mouseenter\":function($event){return _vm.showFeature(feature)},\"mouseleave\":function($event){return _vm.hideFeature(feature)}}},[_c('span',[_vm._v(_vm._s(_vm.nbPointsOnFeature(feature))+\" points\")]),_vm._v(\" \"),_c('button',{staticClass:\"delete is-small\",on:{\"click\":function($event){return _vm.removeFeature(feature)}}},[_vm._v(\"x\")])])}),0)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <ul class=\"featureslist\">\n    <li\n      v-for=\"(feature, i) of features\"\n      :key=\"i\"\n      class=\"featureslist-item tag\"\n      @mouseenter=\"showFeature(feature)\"\n      @mouseleave=\"hideFeature(feature)\"\n    >\n      <span>{{ nbPointsOnFeature(feature) }} points</span>\n      <button class=\"delete is-small\" @click=\"removeFeature(feature)\">x</button>\n    </li>\n  </ul>\n</template>\n\n<script>\nexport default {\n  props: {\n    map: {\n      type: Object,\n      default: null,\n    },\n    features: {\n      type: Array,\n      required: true,\n    },\n  },\n  methods: {\n    removeFeature(feature) {\n      this.map.removeFeature(feature);\n    },\n\n    showFeature(feature) {\n      feature.setStyle(feature.get('highlightedStyle'));\n    },\n\n    hideFeature(feature) {\n      feature.setStyle(feature.get('normalStyle'));\n    },\n\n    nbPointsOnFeature(feature) {\n      return feature.getGeometry().getCoordinates().length;\n    },\n  },\n};\n</script>\n\n<style scoped lang=\"scss\">\n@import '@/assets/sass/variables.scss';\n\n.featureslist {\n  margin: 0 -0.5rem;\n\n  &-item {\n    margin: 0.25rem;\n    font-size: 0.7em;\n\n    &:hover,\n    &:focus {\n      background: $grey-lighter;\n      cursor: default;\n    }\n  }\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FeaturesList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FeaturesList.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./FeaturesList.vue?vue&type=template&id=6c22161a&scoped=true&\"\nimport script from \"./FeaturesList.vue?vue&type=script&lang=js&\"\nexport * from \"./FeaturesList.vue?vue&type=script&lang=js&\"\nimport style0 from \"./FeaturesList.vue?vue&type=style&index=0&id=6c22161a&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6c22161a\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div class=\"yeti-subpanel\">\n    <sub-panel-title><span v-translate>Route</span></sub-panel-title>\n    <div v-if=\"features.length\">\n      <div class=\"columns is-mobile\">\n        <div class=\"column\">\n          <p class=\"features-title\">\n            <icon-route class=\"icon document-icon\" />\n            <fa-icon icon=\"pen\" class=\"icon edit-icon\" />\n            <span\n              v-show=\"!hasFeaturesTitle\"\n              class=\"features-title-text features-title-placeholder\"\n              @click=\"onEditNewFeaturesTitle\"\n              v-translate\n            >\n              Add title\n            </span>\n            <span\n              v-show=\"hasFeaturesTitle\"\n              class=\"features-title-text features-title-content\"\n              ref=\"featuresTitle\"\n              tabindex=\"0\"\n              contenteditable\n              spellcheck=\"false\"\n              @blur=\"onEditFeaturesTitle\"\n              @keypress.13.prevent\n              >{{ editableFeaturesTitle }}</span\n            >\n          </p>\n        </div>\n        <div class=\"column is-narrow\">\n          <button class=\"button is-secondary is-small\" @click=\"onRemoveFeatures\">\n            <fa-icon icon=\"trash\" class=\"trash-icon\" />\n            <span v-translate>Delete route</span>\n          </button>\n        </div>\n      </div>\n      <div class=\"ml-5 mb-5\">\n        <p class=\"yetiform-info is-italic is-marginless\" v-translate>Lines chunks</p>\n        <features-list :features=\"features\" :map=\"map\" />\n      </div>\n      <sub-panel-title><span v-translate>Export</span></sub-panel-title>\n      <div class=\"columns is-vcentered is-mobile\">\n        <div class=\"column\">\n          <ul class=\"form-export\">\n            <li v-for=\"type of formats\" :key=\"type\" class=\"control is-flex\">\n              <input\n                :id=\"'format' + type\"\n                type=\"radio\"\n                name=\"exportFormat\"\n                class=\"is-checkradio is-primary\"\n                :value=\"type\"\n                v-model=\"format\"\n              />\n              <label :for=\"'format' + type\">{{ type }}</label>\n            </li>\n          </ul>\n        </div>\n        <div class=\"column is-narrow\">\n          <button class=\"button is-primary\" @click=\"downloadCourse\" v-translate>Export route</button>\n        </div>\n      </div>\n      <div class=\"yetiform-note mt-5\">\n        <p v-translate>Drawing tips</p>\n        <ul class=\"content-ul\">\n          <li><strong v-translate translate-context=\"yeti\">Draw</strong> <span v-translate>new lines chunks</span></li>\n          <li>\n            <strong v-translate translate-context=\"yeti\">Delete</strong>\n            <span v-translate>last point with the Backspace key</span>\n          </li>\n        </ul>\n        <p v-translate>On a drawn line</p>\n        <ul class=\"content-ul\">\n          <li>\n            <strong v-translate translate-context=\"yeti\">Edit</strong> <span v-translate>points by moving them</span>\n          </li>\n          <li>\n            <strong v-translate translate-context=\"yeti\">Create</strong>\n            <span v-translate>a new point on an existing line</span>\n          </li>\n          <li><strong v-translate>Delete a point</strong> <span v-translate>with Alt + clic</span></li>\n        </ul>\n        <p v-translate>From the interface</p>\n        <ul class=\"content-ul\">\n          <li><strong v-translate>Delete a line chunk</strong></li>\n          <li><strong v-translate>Delete route</strong> <span v-translate>to start or load a new one</span></li>\n        </ul>\n      </div>\n    </div>\n    <div v-else>\n      <p v-translate>No route right now</p>\n      <div class=\"load-gpx\">\n        <button\n          class=\"button is-primary\"\n          :class=\"{ 'is-loading': loading }\"\n          :disabled=\"loading\"\n          @click=\"onLoadGpx\"\n          v-translate\n        >\n          Upload a GPS track\n        </button>\n        <div class=\"control upload-button\">\n          <input ref=\"gpxFileInput\" type=\"file\" @change=\"uploadGpx\" accept=\".gpx\" />\n        </div>\n        <div class=\"yetiform-note mt-5\">\n          <p><strong v-translate>Draw right on the map</strong> <span v-translate>to start a new route</span></p>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { format } from 'date-fns';\n\nimport FeaturesList from '@/components/yeti/FeaturesList.vue';\nimport SubPanelTitle from '@/components/yeti/SubPanelTitle.vue';\nimport ol from '@/js/libs/ol';\nimport utils from '@/js/utils';\n\nexport default {\n  components: { FeaturesList, SubPanelTitle },\n  props: {\n    map: {\n      type: Object,\n      default: null,\n    },\n    features: {\n      type: Array,\n      default: null,\n    },\n    featuresTitle: {\n      type: String,\n      default: null,\n    },\n  },\n  data() {\n    return {\n      editableFeaturesTitle: '',\n      newFeaturesTitle: false,\n      loading: false,\n      formats: ['GPX', 'KML'],\n      format: 'GPX',\n    };\n  },\n  computed: {\n    hasFeaturesTitle() {\n      return !(!this.editableFeaturesTitle.length && !this.newFeaturesTitle);\n    },\n  },\n  watch: {\n    featuresTitle() {\n      // if featuresTitle was changed (load document), set to editableFeaturesTitle\n      this.editableFeaturesTitle = this.featuresTitle;\n    },\n  },\n  mounted() {\n    // when mounted, set editableFeaturesTitle to featuresTitle\n    this.editableFeaturesTitle = this.featuresTitle;\n  },\n  methods: {\n    onEditFeaturesTitle(e) {\n      if (!e.target.innerText.length) {\n        this.newFeaturesTitle = false;\n      }\n      this.$emit('update:featuresTitle', e.target.innerText);\n    },\n\n    onEditNewFeaturesTitle() {\n      this.newFeaturesTitle = true;\n      this.$nextTick(() => {\n        this.$refs.featuresTitle.focus();\n      });\n    },\n\n    onLoadGpx() {\n      this.$refs.gpxFileInput.click();\n    },\n\n    onRemoveFeatures() {\n      this.map.removeFeatures();\n    },\n\n    uploadGpx(event) {\n      this.loading = true;\n\n      const reader = new FileReader();\n\n      reader.onload = () => {\n        this.loading = false;\n        this.$emit('gpx', reader.result);\n      };\n\n      reader.readAsText(event.target.files[0]);\n\n      // empty the input, because if user wan't to upload same trace\n      // change event is not fired\n      // and emit gpx event\n      this.$refs.gpxFileInput.value = '';\n      this.$emit('gpx', null);\n    },\n\n    downloadCourse() {\n      if (this.format === 'GPX') {\n        this.downloadFeatures(new ol.format.GPX(), '.gpx', 'application/gpx+xml');\n      } else if (this.format === 'KML') {\n        this.downloadFeatures(new ol.format.KML(), '.kml', 'application/vnd.google-earth.kml+xml');\n      }\n    },\n\n    downloadFeatures(olFormat, extension, mimetype) {\n      const features = this.features;\n      features[0].set('name', this.featuresTitle);\n\n      const filename = this.setFilename(extension);\n\n      const content = olFormat.writeFeatures(features, {\n        featureProjection: 'EPSG:3857',\n      });\n\n      utils.download(content, filename, mimetype + ';charset=utf-8');\n    },\n\n    setFilename(ext) {\n      return format(new Date(), 'yyyy-MM-dd_HH-mm-ss') + ext;\n    },\n  },\n};\n</script>\n\n<style scoped lang=\"scss\">\n.features-title {\n  display: flex;\n  line-height: 1.4;\n\n  &-text {\n    min-width: 100px;\n    border: solid 1px transparent;\n    border-radius: 2px;\n    padding: 2px 2em 2px 2px;\n    box-decoration-break: clone;\n\n    &:hover,\n    &:focus {\n      border-color: #b5b5b5;\n    }\n  }\n\n  &-placeholder {\n    font-style: italic;\n  }\n\n  &-content {\n    font-weight: bold;\n  }\n}\n\n.icon {\n  margin-top: 2px;\n}\n\n.edit-icon {\n  order: 1;\n  opacity: 0;\n  margin-left: -1.5em;\n  pointer-events: none;\n  transform: scale(0.75);\n}\n\n.features-title:hover .edit-icon {\n  opacity: 0.75;\n}\n\n.document-icon {\n  margin-right: 3px;\n}\n\n.trash-icon {\n  margin-right: 3px;\n}\n\n.upload-button {\n  position: relative;\n}\n\ninput[type='file'] {\n  opacity: 0; /* invisible but it's there! */\n  width: 100%;\n  height: 100%;\n  position: absolute;\n  top: 0;\n  left: 0;\n  cursor: pointer;\n}\n\n.load-gpx {\n  margin-top: 2rem;\n}\n\n.form-export {\n  display: flex;\n}\n\n.control {\n  align-items: center;\n\n  .is-checkradio[type='radio'] + label {\n    line-height: 1.2rem;\n  }\n}\n\n@media screen and (max-width: 350px) {\n  .form-export {\n    display: block;\n  }\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SubPanelCourse.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SubPanelCourse.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SubPanelCourse.vue?vue&type=template&id=05c9c091&scoped=true&\"\nimport script from \"./SubPanelCourse.vue?vue&type=script&lang=js&\"\nexport * from \"./SubPanelCourse.vue?vue&type=script&lang=js&\"\nimport style0 from \"./SubPanelCourse.vue?vue&type=style&index=0&id=05c9c091&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"05c9c091\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"yeti-subpanel\"},[_c('sub-panel-title',[_c('span',{directives:[{name:\"translate\",rawName:\"v-translate\"}]},[_vm._v(\"Methods\")])]),_vm._v(\" \"),_c('div',{staticClass:\"columns is-mobile yetitabs\"},_vm._l((Object.keys(_vm.methods)),function(item){return _c('div',{key:item,staticClass:\"column yetitab\"},[_c('div',{staticClass:\"control yetitab-control\",class:{ 'yetitab-control--selected': _vm.method.type === item }},[_c('input',{staticClass:\"is-checkradio is-primary\",attrs:{\"id\":'c2c-method-' + item,\"type\":\"radio\",\"name\":\"method\",\"disabled\":item === 'mrd' ? _vm.bra.high == 4 || _vm.bra.low == 4 : false},domProps:{\"value\":item,\"checked\":item === _vm.method.type},on:{\"change\":function($event){return _vm.onChange($event, 'type')}}}),_vm._v(\" \"),_c('label',{staticClass:\"yetitab-label\",attrs:{\"for\":'c2c-method-' + item},on:{\"click\":function($event){return _vm.warnAboutMethodBra(item)}}},[_vm._v(\"\\n          \"+_vm._s(_vm.methods[item][0])+\"\\n          \"),_c('span',{staticClass:\"yetiform-info\"},[_vm._v(_vm._s(_vm.methods[item][1]))])])])])}),0),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.method.type == 'mrd'),expression:\"method.type == 'mrd'\"}]},[_c('p',[_c('span',{directives:[{name:\"translate\",rawName:\"v-translate\"}]},[_vm._v(\"With the\")]),_vm._v(\" \"),_c('strong',{directives:[{name:\"translate\",rawName:\"v-translate\"}]},[_vm._v(\"Beginner Reduction Method\")]),_vm._v(\" \"),_c('span',{directives:[{name:\"translate\",rawName:\"v-translate\"}]},[_vm._v(\"\\n        (MRD), you do not have to enter any parameters other than the danger level(s) given by the avalanche bulletin.\\n      \")])]),_vm._v(\" \"),_c('div',{staticClass:\"yetiform-note\"},[_c('p',{directives:[{name:\"translate\",rawName:\"v-translate\"}]},[_vm._v(\"\\n        As the name suggests, this method is intended for beginners. Therefore, the safety margin must be particularly\\n        important. No parameter other than the danger level is specified. Orientation is ignored.\\n      \")])]),_vm._v(\" \"),_c('table',{staticClass:\"yetiform-danger\"},[_c('tr',[_vm._m(0),_vm._v(\" \"),_c('td',[_c('strong',{directives:[{name:\"translate\",rawName:\"v-translate\"}]},[_vm._v(\"Danger rating - low\")])]),_vm._v(\" \"),_c('td',{directives:[{name:\"translate\",rawName:\"v-translate\"}]},[_vm._v(\"I must not use slopes > 40\")])]),_vm._v(\" \"),_c('tr',[_vm._m(1),_vm._v(\" \"),_c('td',[_c('strong',{directives:[{name:\"translate\",rawName:\"v-translate\"}]},[_vm._v(\"Danger rating - moderate\")])]),_vm._v(\" \"),_c('td',{directives:[{name:\"translate\",rawName:\"v-translate\"}]},[_vm._v(\"I must not use slopes > 35\")])]),_vm._v(\" \"),_c('tr',{staticClass:\"multiline\"},[_vm._m(2),_vm._v(\" \"),_c('td',[_c('strong',{directives:[{name:\"translate\",rawName:\"v-translate\"}]},[_vm._v(\"Danger rating - considerable\")])]),_vm._v(\" \"),_c('td',[_c('span',{directives:[{name:\"translate\",rawName:\"v-translate\"}]},[_vm._v(\"I must not use slopes > 30\")]),_vm._v(\" \"),_c('br'),_vm._v(\" \"),_c('small',{directives:[{name:\"translate\",rawName:\"v-translate\"}]},[_vm._v(\"including dominant slopes\")])])]),_vm._v(\" \"),_c('tr',[_vm._m(3),_vm._v(\" \"),_c('td',[_c('strong',{directives:[{name:\"translate\",rawName:\"v-translate\"}]},[_vm._v(\"Danger rating - high to very high\")])]),_vm._v(\" \"),_c('td',{directives:[{name:\"translate\",rawName:\"v-translate\"}]},[_vm._v(\"I choose to cancel the outing\")])])])]),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.method.type == 'mre'),expression:\"method.type == 'mre'\"}]},[_c('p',[_c('span',{directives:[{name:\"translate\",rawName:\"v-translate\"}]},[_vm._v(\"With the\")]),_vm._v(\" \"),_c('strong',{directives:[{name:\"translate\",rawName:\"v-translate\"}]},[_vm._v(\"Elementary Reduction Method\")]),_vm._v(\" \"),_c('span',{directives:[{name:\"translate\",rawName:\"v-translate\"}]},[_vm._v(\"\\n        (MRE), you can enter the sectors of the compass rose that are reported as critical in the avalanche bulletin.\\n      \")])]),_vm._v(\" \"),_c('input-orientation',{staticClass:\"has-text-centered\",attrs:{\"value\":_vm.method.orientation},on:{\"input\":function($event){return _vm.onChange($event, 'orientation')}}}),_vm._v(\" \"),(_vm.method.orientation.length != 0)?_c('p',{staticClass:\"yetiform-info\"},[_c('span',{directives:[{name:\"translate\",rawName:\"v-translate\"}],key:\"tr1\"},[_vm._v(\"Orientations\")]),_vm._v(\": \"+_vm._s(_vm.method.orientation.join(', '))+\"\\n    \")]):_c('p',{staticClass:\"yetiform-info\"},[_c('span',{directives:[{name:\"translate\",rawName:\"v-translate\"}],key:\"tr2\"},[_vm._v(\"No orientation selected\")])]),_vm._v(\" \"),_c('div',{staticClass:\"yetiform-note\"},[_c('p',{directives:[{name:\"translate\",rawName:\"v-translate\"}]},[_vm._v(\"\\n        Danger level from the avalanche bulletin applies to all orientations. The compass rose distinguishes the most\\n        critical sectors presenting an increased risk.\\n      \")])]),_vm._v(\" \"),_c('table',{staticClass:\"yetiform-danger\"},[_c('tr',{staticClass:\"multiline\"},[_vm._m(4),_vm._v(\" \"),_c('td',[_c('strong',{directives:[{name:\"translate\",rawName:\"v-translate\"}]},[_vm._v(\"Danger rating - low\")])]),_vm._v(\" \"),_c('td',[_c('span',{directives:[{name:\"translate\",rawName:\"v-translate\"}]},[_vm._v(\"Stay careful while skiing\")]),_vm._v(\" \"),_c('br'),_vm._v(\" \"),_c('small',{directives:[{name:\"translate\",rawName:\"v-translate\"}]},[_vm._v(\"risk of a rough fall on hard snow\")])])]),_vm._v(\" \"),_c('tr',[_vm._m(5),_vm._v(\" \"),_c('td',[_c('strong',{directives:[{name:\"translate\",rawName:\"v-translate\"}]},[_vm._v(\"Danger rating - moderate\")])]),_vm._v(\" \"),_c('td',{directives:[{name:\"translate\",rawName:\"v-translate\"}]},[_vm._v(\"I must not use slopes > 40\")])]),_vm._v(\" \"),_c('tr',{staticClass:\"multiline\"},[_vm._m(6),_vm._v(\" \"),_c('td',[_c('strong',{directives:[{name:\"translate\",rawName:\"v-translate\"}]},[_vm._v(\"Danger rating - considerable\")])]),_vm._v(\" \"),_c('td',[_c('span',{directives:[{name:\"translate\",rawName:\"v-translate\"}]},[_vm._v(\"I must not use slopes > 35\")]),_vm._v(\" \"),_c('br'),_vm._v(\" \"),_c('small',{directives:[{name:\"translate\",rawName:\"v-translate\"}]},[_vm._v(\"including dominant slopes\")])])]),_vm._v(\" \"),_c('tr',{staticClass:\"multiline\"},[_vm._m(7),_vm._v(\" \"),_c('td',[_c('strong',{directives:[{name:\"translate\",rawName:\"v-translate\"}]},[_vm._v(\"Danger rating - high\")])]),_vm._v(\" \"),_c('td',[_c('span',{directives:[{name:\"translate\",rawName:\"v-translate\"}]},[_vm._v(\"I must not use slopes > 30\")]),_vm._v(\" \"),_c('br'),_vm._v(\" \"),_c('small',{directives:[{name:\"translate\",rawName:\"v-translate\"}]},[_vm._v(\"including dominant slopes\")])])]),_vm._v(\" \"),_c('tr',[_vm._m(8),_vm._v(\" \"),_c('td',[_c('strong',{directives:[{name:\"translate\",rawName:\"v-translate\"}]},[_vm._v(\"Danger rating - very high\")])]),_vm._v(\" \"),_c('td',{directives:[{name:\"translate\",rawName:\"v-translate\"}]},[_vm._v(\"I choose to cancel the outing\")])])])],1),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.method.type == 'mrp'),expression:\"method.type == 'mrp'\"}]},[_c('p',[_c('span',{directives:[{name:\"translate\",rawName:\"v-translate\"}]},[_vm._v(\"With the\")]),_vm._v(\" \"),_c('strong',{directives:[{name:\"translate\",rawName:\"v-translate\"}]},[_vm._v(\"Professional Reduction Method\")]),_vm._v(\" \"),_c('span',{directives:[{name:\"translate\",rawName:\"v-translate\"}]},[_vm._v(\"\\n        (MRP), you can refine the hazard potential, set group size and any precautionary measures being considered.\\n      \")])]),_vm._v(\" \"),_c('h3',{directives:[{name:\"translate\",rawName:\"v-translate\"}],staticClass:\"title is-3\"},[_vm._v(\"Hazard potential\")]),_vm._v(\" \"),_c('ul',{staticClass:\"potential-danger-labels has-text-black\"},_vm._l((_vm.potentialDangerLabels),function(label){return _c('li',{key:label.text,staticClass:\"potential-danger-label is-size-5\",attrs:{\"disabled\":!_vm.bra.high || label.text < _vm.potentialDangerOptions.min || label.text > _vm.potentialDangerOptions.max,\"selected\":_vm.method.potentialDanger == label.text},on:{\"click\":function($event){return _vm.onChange(label.text, 'potentialDanger')}}},[_c('span',{class:{ 'is-size-3 has-text-weight-bold': label.val }},[_vm._v(\"\\n          \"+_vm._s(label.text)+\"\\n        \")])])}),0),_vm._v(\" \"),(_vm.method.potentialDanger)?_c('p',{staticClass:\"yetiform-info\"},[_c('span',{directives:[{name:\"translate\",rawName:\"v-translate\"}],key:\"tr1\"},[_vm._v(\"Hazard potential:\")]),_vm._v(\"\\n      \"+_vm._s(_vm.method.potentialDanger)+\"\\n      (\"),_c('span',{directives:[{name:\"translate\",rawName:\"v-translate\"}]},[_vm._v(\"Danger level:\")]),_vm._v(\" \"+_vm._s(_vm.bra.high)+\")\\n    \")]):_c('p',{staticClass:\"yetiform-info\"},[_c('span',{directives:[{name:\"translate\",rawName:\"v-translate\"}],key:\"tr2\"},[_vm._v(\"No selected hazard potential. Set danger level first.\")])]),_vm._v(\" \"),_c('div',{staticClass:\"yetiform-note\"},[_c('p',{directives:[{name:\"translate\",rawName:\"v-translate\"}]},[_vm._v(\"\\n        The hazard potential is calculated from the danger level of the avalanche bulletin. It can be fine-tuned by\\n        selecting a potential within the danger levels corresponding range. For example: the avalanche bulletin\\n        evokes a danger 3 just after a period in danger 4. We can then indicate a hazard potential of 12 instead of 8.\\n      \")])]),_vm._v(\" \"),_c('p',[_c('input-checkbox',{attrs:{\"value\":_vm.method.wetSnow},on:{\"input\":function($event){return _vm.onChange($event, 'wetSnow')}}},[_c('span',{directives:[{name:\"translate\",rawName:\"v-translate\"}]},[_vm._v(\"Wet snow: orientation not taken into account\")])])],1),_vm._v(\" \"),_c('div',{staticClass:\"yetiform-note\"},[_c('p',{directives:[{name:\"translate\",rawName:\"v-translate\"}]},[_vm._v(\"Be careful, in wet snow, no factor to reduce orientation or attendance can be applied.\")])]),_vm._v(\" \"),_c('h3',{directives:[{name:\"translate\",rawName:\"v-translate\"}],staticClass:\"title is-3\"},[_vm._v(\"Group\")]),_vm._v(\" \"),_c('ul',_vm._l((_vm.groupSizes),function(item,i){return _c('li',{key:i,staticClass:\"control\"},[_c('input',{staticClass:\"is-checkradio is-primary\",attrs:{\"id\":'c2c-group-size-' + i,\"type\":\"radio\",\"name\":\"groupSize\"},domProps:{\"value\":item.value,\"checked\":item.value === _vm.method.groupSize},on:{\"change\":function($event){return _vm.onChange($event, 'groupSize')}}}),_vm._v(\" \"),_c('label',{attrs:{\"for\":'c2c-group-size-' + i}},[_vm._v(_vm._s(item.text))])])}),0),_vm._v(\" \"),_c('div',{staticClass:\"yetiform-note\"},[_c('p',{directives:[{name:\"translate\",rawName:\"v-translate\"}]},[_vm._v(\"Group size\")]),_vm._v(\" \"),_c('ul',{staticClass:\"content-ul\"},[_c('li',{directives:[{name:\"translate\",rawName:\"v-translate\"}]},[_vm._v(\"Large group = 5 people and more\")]),_vm._v(\" \"),_c('li',{directives:[{name:\"translate\",rawName:\"v-translate\"}]},[_vm._v(\"Small group = 2 to 4 people\")])]),_vm._v(\" \"),_c('p',{directives:[{name:\"translate\",rawName:\"v-translate\"}]},[_vm._v(\"Load shedding distance\")]),_vm._v(\" \"),_c('ul',{staticClass:\"content-ul\"},[_c('li',{directives:[{name:\"translate\",rawName:\"v-translate\"}]},[_vm._v(\"10 meters minimum while ascending\")]),_vm._v(\" \"),_c('li',{directives:[{name:\"translate\",rawName:\"v-translate\"}]},[_vm._v(\"50 meters while descending\")])])]),_vm._v(\" \"),_c('p',{directives:[{name:\"translate\",rawName:\"v-translate\"}]},[_vm._v(\"\\n      The slope traveled frequently factor is not taken into account by the application, as it is often difficult to\\n      ascertain when preparing for an outing.\\n    \")])])],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('td',[_c('img',{attrs:{\"src\":require(\"@/assets/img/yeti/levels-danger.svg\") + \"#level1\",\"loading\":\"lazy\"}})])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('td',[_c('img',{attrs:{\"src\":require(\"@/assets/img/yeti/levels-danger.svg\") + \"#level2\",\"loading\":\"lazy\"}})])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('td',[_c('img',{attrs:{\"src\":require(\"@/assets/img/yeti/levels-danger.svg\") + \"#level3\",\"loading\":\"lazy\"}})])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('td',[_c('img',{attrs:{\"src\":require(\"@/assets/img/yeti/levels-danger.svg\") + \"#level4\",\"loading\":\"lazy\"}})])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('td',[_c('img',{attrs:{\"src\":require(\"@/assets/img/yeti/levels-danger.svg\") + \"#level1\",\"loading\":\"lazy\"}})])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('td',[_c('img',{attrs:{\"src\":require(\"@/assets/img/yeti/levels-danger.svg\") + \"#level2\",\"loading\":\"lazy\"}})])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('td',[_c('img',{attrs:{\"src\":require(\"@/assets/img/yeti/levels-danger.svg\") + \"#level3\",\"loading\":\"lazy\"}})])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('td',[_c('img',{attrs:{\"src\":require(\"@/assets/img/yeti/levels-danger.svg\") + \"#level4\",\"loading\":\"lazy\"}})])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('td',[_c('img',{attrs:{\"src\":require(\"@/assets/img/yeti/levels-danger.svg\") + \"#level4\",\"loading\":\"lazy\"}})])}]\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"yeti-subpanel\">\n    <sub-panel-title><span v-translate>Methods</span></sub-panel-title>\n    <div class=\"columns is-mobile yetitabs\">\n      <div v-for=\"item of Object.keys(methods)\" :key=\"item\" class=\"column yetitab\">\n        <div class=\"control yetitab-control\" :class=\"{ 'yetitab-control--selected': method.type === item }\">\n          <input\n            :id=\"'c2c-method-' + item\"\n            type=\"radio\"\n            name=\"method\"\n            class=\"is-checkradio is-primary\"\n            :value=\"item\"\n            :checked=\"item === method.type\"\n            :disabled=\"item === 'mrd' ? bra.high == 4 || bra.low == 4 : false\"\n            @change=\"onChange($event, 'type')\"\n          />\n          <label :for=\"'c2c-method-' + item\" class=\"yetitab-label\" @click=\"warnAboutMethodBra(item)\">\n            {{ methods[item][0] }}\n            <span class=\"yetiform-info\">{{ methods[item][1] }}</span>\n          </label>\n        </div>\n      </div>\n    </div>\n\n    <div v-show=\"method.type == 'mrd'\">\n      <p>\n        <span v-translate>With the</span>\n        <strong v-translate>Beginner Reduction Method</strong>\n        <span v-translate>\n          (MRD), you do not have to enter any parameters other than the danger level(s) given by the avalanche bulletin.\n        </span>\n      </p>\n      <div class=\"yetiform-note\">\n        <p v-translate>\n          As the name suggests, this method is intended for beginners. Therefore, the safety margin must be particularly\n          important. No parameter other than the danger level is specified. Orientation is ignored.\n        </p>\n      </div>\n\n      <table class=\"yetiform-danger\">\n        <tr>\n          <td><img src=\"@/assets/img/yeti/levels-danger.svg#level1\" loading=\"lazy\" /></td>\n          <td><strong v-translate>Danger rating - low</strong></td>\n          <td v-translate>I must not use slopes > 40</td>\n        </tr>\n        <tr>\n          <td><img src=\"@/assets/img/yeti/levels-danger.svg#level2\" loading=\"lazy\" /></td>\n          <td><strong v-translate>Danger rating - moderate</strong></td>\n          <td v-translate>I must not use slopes > 35</td>\n        </tr>\n        <tr class=\"multiline\">\n          <td><img src=\"@/assets/img/yeti/levels-danger.svg#level3\" loading=\"lazy\" /></td>\n          <td><strong v-translate>Danger rating - considerable</strong></td>\n          <td>\n            <span v-translate>I must not use slopes > 30</span>\n            <br />\n            <small v-translate>including dominant slopes</small>\n          </td>\n        </tr>\n        <tr>\n          <td><img src=\"@/assets/img/yeti/levels-danger.svg#level4\" loading=\"lazy\" /></td>\n          <td><strong v-translate>Danger rating - high to very high</strong></td>\n          <td v-translate>I choose to cancel the outing</td>\n        </tr>\n      </table>\n    </div>\n\n    <div v-show=\"method.type == 'mre'\">\n      <p>\n        <span v-translate>With the</span>\n        <strong v-translate>Elementary Reduction Method</strong>\n        <span v-translate>\n          (MRE), you can enter the sectors of the compass rose that are reported as critical in the avalanche bulletin.\n        </span>\n      </p>\n\n      <input-orientation\n        :value=\"method.orientation\"\n        @input=\"onChange($event, 'orientation')\"\n        class=\"has-text-centered\"\n      />\n\n      <p v-if=\"method.orientation.length != 0\" class=\"yetiform-info\">\n        <span v-translate key=\"tr1\">Orientations</span>: {{ method.orientation.join(', ') }}\n      </p>\n      <p v-else class=\"yetiform-info\">\n        <span v-translate key=\"tr2\">No orientation selected</span>\n      </p>\n\n      <div class=\"yetiform-note\">\n        <p v-translate>\n          Danger level from the avalanche bulletin applies to all orientations. The compass rose distinguishes the most\n          critical sectors presenting an increased risk.\n        </p>\n      </div>\n\n      <table class=\"yetiform-danger\">\n        <tr class=\"multiline\">\n          <td><img src=\"@/assets/img/yeti/levels-danger.svg#level1\" loading=\"lazy\" /></td>\n          <td><strong v-translate>Danger rating - low</strong></td>\n          <td>\n            <span v-translate>Stay careful while skiing</span>\n            <br />\n            <small v-translate>risk of a rough fall on hard snow</small>\n          </td>\n        </tr>\n        <tr>\n          <td><img src=\"@/assets/img/yeti/levels-danger.svg#level2\" loading=\"lazy\" /></td>\n          <td><strong v-translate>Danger rating - moderate</strong></td>\n          <td v-translate>I must not use slopes > 40</td>\n        </tr>\n        <tr class=\"multiline\">\n          <td><img src=\"@/assets/img/yeti/levels-danger.svg#level3\" loading=\"lazy\" /></td>\n          <td><strong v-translate>Danger rating - considerable</strong></td>\n          <td>\n            <span v-translate>I must not use slopes > 35</span>\n            <br />\n            <small v-translate>including dominant slopes</small>\n          </td>\n        </tr>\n        <tr class=\"multiline\">\n          <td><img src=\"@/assets/img/yeti/levels-danger.svg#level4\" loading=\"lazy\" /></td>\n          <td><strong v-translate>Danger rating - high</strong></td>\n          <td>\n            <span v-translate>I must not use slopes > 30</span>\n            <br />\n            <small v-translate>including dominant slopes</small>\n          </td>\n        </tr>\n        <tr>\n          <td><img src=\"@/assets/img/yeti/levels-danger.svg#level4\" loading=\"lazy\" /></td>\n          <td><strong v-translate>Danger rating - very high</strong></td>\n          <td v-translate>I choose to cancel the outing</td>\n        </tr>\n      </table>\n    </div>\n\n    <div v-show=\"method.type == 'mrp'\">\n      <p>\n        <span v-translate>With the</span>\n        <strong v-translate>Professional Reduction Method</strong>\n        <span v-translate>\n          (MRP), you can refine the hazard potential, set group size and any precautionary measures being considered.\n        </span>\n      </p>\n\n      <h3 class=\"title is-3\" v-translate>Hazard potential</h3>\n      <ul class=\"potential-danger-labels has-text-black\">\n        <li\n          v-for=\"label of potentialDangerLabels\"\n          :key=\"label.text\"\n          :disabled=\"!bra.high || label.text < potentialDangerOptions.min || label.text > potentialDangerOptions.max\"\n          :selected=\"method.potentialDanger == label.text\"\n          class=\"potential-danger-label is-size-5\"\n          @click=\"onChange(label.text, 'potentialDanger')\"\n        >\n          <span :class=\"{ 'is-size-3 has-text-weight-bold': label.val }\">\n            {{ label.text }}\n          </span>\n        </li>\n      </ul>\n\n      <p v-if=\"method.potentialDanger\" class=\"yetiform-info\">\n        <span v-translate key=\"tr1\">Hazard potential:</span>\n        {{ method.potentialDanger }}\n        (<span v-translate>Danger level:</span> {{ bra.high }})\n      </p>\n      <p v-else class=\"yetiform-info\">\n        <span v-translate key=\"tr2\">No selected hazard potential. Set danger level first.</span>\n      </p>\n\n      <div class=\"yetiform-note\">\n        <p v-translate>\n          The hazard potential is calculated from the danger level of the avalanche bulletin. It can be fine-tuned by\n          selecting a potential within the danger levels corresponding range. For example: the avalanche bulletin\n          evokes a danger 3 just after a period in danger 4. We can then indicate a hazard potential of 12 instead of 8.\n        </p>\n      </div>\n\n      <p>\n        <input-checkbox :value=\"method.wetSnow\" @input=\"onChange($event, 'wetSnow')\">\n          <span v-translate>Wet snow: orientation not taken into account</span>\n        </input-checkbox>\n      </p>\n\n      <div class=\"yetiform-note\">\n        <p v-translate>Be careful, in wet snow, no factor to reduce orientation or attendance can be applied.</p>\n      </div>\n\n      <h3 class=\"title is-3\" v-translate>Group</h3>\n\n      <ul>\n        <li class=\"control\" v-for=\"(item, i) of groupSizes\" :key=\"i\">\n          <input\n            :id=\"'c2c-group-size-' + i\"\n            type=\"radio\"\n            name=\"groupSize\"\n            class=\"is-checkradio is-primary\"\n            :value=\"item.value\"\n            :checked=\"item.value === method.groupSize\"\n            @change=\"onChange($event, 'groupSize')\"\n          />\n          <label :for=\"'c2c-group-size-' + i\">{{ item.text }}</label>\n        </li>\n      </ul>\n\n      <div class=\"yetiform-note\">\n        <p v-translate>Group size</p>\n        <ul class=\"content-ul\">\n          <li v-translate>Large group = 5 people and more</li>\n          <li v-translate>Small group = 2 to 4 people</li>\n        </ul>\n        <p v-translate>Load shedding distance</p>\n        <ul class=\"content-ul\">\n          <li v-translate>10 meters minimum while ascending</li>\n          <li v-translate>50 meters while descending</li>\n        </ul>\n      </div>\n\n      <p v-translate>\n        The slope traveled frequently factor is not taken into account by the application, as it is often difficult to\n        ascertain when preparing for an outing.\n      </p>\n    </div>\n  </div>\n</template>\n\n<script>\nimport SubPanelTitle from '@/components/yeti/SubPanelTitle.vue';\n\nconst DANGER = {\n  min: 1,\n  max: 16,\n  bra: [\n    { min: 1, max: 2, val: 2 },\n    { min: 3, max: 6, val: 4 },\n    { min: 6, max: 12, val: 8 },\n    { min: 13, max: 16, val: 16 },\n  ],\n};\n\nexport default {\n  components: { SubPanelTitle },\n  props: {\n    method: {\n      type: Object,\n      default: null,\n    },\n    bra: {\n      type: Object,\n      default: null,\n    },\n  },\n  data() {\n    return {\n      methods: {\n        mrd: ['MRD', this.$gettext('Beginner')],\n        mre: ['MRE', this.$gettext('Elementary')],\n        mrp: ['MRP', this.$gettext('Expert')],\n      },\n      groupSizes: [\n        {\n          value: 1,\n          text: this.$gettext('No reduction factor'),\n        },\n        {\n          value: 2.1,\n          text: this.$gettext('Large group with load shedding distance'),\n        },\n        {\n          value: 2.2,\n          text: this.$gettext('Small group without distance'),\n        },\n        {\n          value: 3,\n          text: this.$gettext('Small group with load shedding distance'),\n        },\n      ],\n    };\n  },\n  computed: {\n    potentialDangerLabels() {\n      const result = [];\n      for (let i = DANGER.min; i <= DANGER.max; i++) {\n        const data = { text: i };\n        if (i === 2 || i === 4 || i === 8 || i === 16) {\n          data.val = i;\n        }\n        result.push(data);\n      }\n\n      return result;\n    },\n    potentialDangerOptions() {\n      if (!this.bra.high) {\n        return { val: undefined, min: 1, max: 16 };\n      }\n\n      return DANGER.bra[this.bra.high - 1];\n    },\n  },\n  watch: {\n    'bra.high': 'onBraChange',\n  },\n  methods: {\n    onChange(event, prop) {\n      let value = null;\n      if (prop === 'orientation' || prop === 'wetSnow' || prop === 'potentialDanger') {\n        value = event;\n      } else {\n        value = event.target.value;\n      }\n      this.$emit('update:method', Object.assign(this.method, { [prop]: value }));\n    },\n    warnAboutMethodBra(item) {\n      this.$emit('warn-about-method-bra', item);\n    },\n    onBraChange() {\n      this.onChange(this.potentialDangerOptions.val, 'potentialDanger');\n    },\n  },\n};\n</script>\n\n<style scoped lang=\"scss\">\n@import '@/assets/sass/variables.scss';\n\np:not(:last-child),\nul:not(:last-child),\ntable:not(:last-child) {\n  margin-bottom: 1rem;\n}\n\n.yetiform-danger {\n  width: 100%;\n  table-layout: fixed;\n  color: $dark;\n  background-color: $white-ter;\n\n  tr {\n    border: 1px solid $white;\n    border-left: 0;\n    border-right: 0;\n  }\n\n  td {\n    vertical-align: middle;\n    height: 45px;\n  }\n\n  .multiline td {\n    vertical-align: baseline;\n  }\n\n  td:first-child {\n    width: 60px;\n  }\n\n  td:first-child + td {\n    width: 40%;\n  }\n\n  td img {\n    vertical-align: -12px;\n    height: 35px;\n  }\n}\n\n.yetitabs {\n  margin: 0;\n  padding: 0.75rem 0;\n}\n\n.yetitab {\n  padding: 0;\n}\n\n.yetitab-control {\n  .yetitab-label {\n    display: block;\n    margin: 0;\n    padding: 0.25rem;\n    padding-left: 2rem;\n    border: 1px solid transparent;\n    border-radius: 4px;\n\n    &:hover,\n    &:focus {\n      border-color: $grey-lighter;\n    }\n\n    &.yetitab-label:before {\n      top: 0.25rem !important;\n      left: 0.25rem !important;\n    }\n    &.yetitab-label:after {\n      top: 1em !important;\n      left: 1em !important;\n    }\n  }\n\n  .is-checkradio:checked + label:after {\n    top: 0.25rem !important;\n    left: 0.25rem !important;\n  }\n}\n\n.yetitab-control--selected {\n  .yetitab-label {\n    color: $primary;\n    border-color: $primary;\n\n    &:hover,\n    &:focus {\n      border-color: $primary;\n    }\n  }\n}\n\n@media screen and (max-width: 490px),\n  screen and (min-width: $tablet) and (max-width: 970px),\n  screen and (min-width: $desktop) and (max-width: 1180px),\n  screen and (min-width: $widescreen) and (max-width: 1370px),\n  screen and (min-width: $fullhd) and (max-width: 1650px) {\n  .yetitabs {\n    flex-wrap: wrap;\n  }\n  .yetitab {\n    flex: 0 0 50%;\n  }\n  .yetiform-danger {\n    tr,\n    td {\n      display: block;\n    }\n    tr {\n      padding: 0.5em 0;\n    }\n    td:first-child {\n      float: left;\n    }\n    td:first-child ~ td {\n      height: auto;\n      width: calc(100% - 60px);\n      margin-left: 60px;\n    }\n  }\n}\n\n.potential-danger-labels {\n  display: flex;\n  align-items: stretch;\n  user-select: none;\n  background: linear-gradient(\n    to right,\n    #bfe12b,\n    #bfe12b 12%,\n    #fff200 20%,\n    #fff200 32%,\n    #f68712 40%,\n    #f68712 72%,\n    #ed1c24 80%,\n    #ed1c24 95%,\n    #c01a2c\n  );\n\n  .potential-danger-label {\n    cursor: pointer;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    flex: 1 1 20px;\n    text-align: center;\n    border: 3px solid transparent;\n\n    &[disabled] {\n      cursor: not-allowed;\n      pointer-events: none;\n      background-color: rgba(255, 255, 255, 0.8);\n      color: grey;\n    }\n\n    &[selected] {\n      border-color: black;\n    }\n  }\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SubPanelMethods.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SubPanelMethods.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SubPanelMethods.vue?vue&type=template&id=b13e18f2&scoped=true&\"\nimport script from \"./SubPanelMethods.vue?vue&type=script&lang=js&\"\nexport * from \"./SubPanelMethods.vue?vue&type=script&lang=js&\"\nimport style0 from \"./SubPanelMethods.vue?vue&type=style&index=0&id=b13e18f2&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"b13e18f2\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"column pb-0 mb-0 tabs is-boxed yetitabs\"},[_c('ul',{attrs:{\"role\":\"tablist\"}},_vm._l((_vm.tabs),function(tab,i){return _c('li',{key:tab,class:{ 'is-active': _vm.activeTab === i },attrs:{\"role\":\"presentation\"}},[_c('a',{ref:\"tab\",refInFor:true,staticClass:\"yetitabs-link\",attrs:{\"role\":\"tab\",\"href\":'#panel' + i,\"id\":'tab' + i,\"aria-selected\":_vm.activeTab === i,\"tabindex\":_vm.activeTab === i ? false : -1},on:{\"click\":function($event){$event.preventDefault();return _vm.setActiveTab(i)},\"keydown\":function($event){return _vm.setActiveTabKeyboard($event, i)}}},[_vm._v(\"\\n        \"+_vm._s(tab)+\" \"),(i === 1 && _vm.hasFeatures)?_c('counter',{attrs:{\"is-primary\":\"\"}},[_vm._v(\"1\")]):_vm._e()],1)])}),0)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"column pb-0 mb-0 tabs is-boxed yetitabs\">\n    <ul role=\"tablist\">\n      <li v-for=\"(tab, i) in tabs\" role=\"presentation\" :key=\"tab\" :class=\"{ 'is-active': activeTab === i }\">\n        <a\n          class=\"yetitabs-link\"\n          role=\"tab\"\n          :href=\"'#panel' + i\"\n          :id=\"'tab' + i\"\n          ref=\"tab\"\n          :aria-selected=\"activeTab === i\"\n          :tabindex=\"activeTab === i ? false : -1\"\n          @click.prevent=\"setActiveTab(i)\"\n          @keydown=\"setActiveTabKeyboard($event, i)\"\n        >\n          {{ tab }} <counter is-primary v-if=\"i === 1 && hasFeatures\">1</counter>\n        </a>\n      </li>\n    </ul>\n  </div>\n</template>\n\n<script>\nimport Counter from '@/components/yeti/Counter.vue';\nexport default {\n  components: { Counter },\n  props: {\n    tabs: {\n      type: Array,\n      required: true,\n    },\n    activeTab: {\n      type: Number,\n      required: true,\n    },\n    hasFeatures: {\n      type: Boolean,\n      default: false,\n    },\n  },\n  methods: {\n    setActiveTab(index) {\n      // focus active tab\n      this.$refs.tab[index].focus();\n      // then set\n      this.$emit('update:activeTab', index);\n    },\n\n    setActiveTabKeyboard(event, index) {\n      // Set arrow keys: left/right = switch active tabs / down = focus panel\n      const ARROW_LEFT = 37;\n      const ARROW_RIGHT = 39;\n      const ARROW_DOWN = 40;\n      let dir =\n        event.which === ARROW_LEFT\n          ? index - 1\n          : event.which === ARROW_RIGHT\n          ? index + 1\n          : event.which === ARROW_DOWN\n          ? 'down'\n          : null;\n\n      if (dir !== null) {\n        event.preventDefault();\n\n        // If the down key is pressed, move focus to the open panel,\n        // otherwise switch to the adjacent tab\n        dir === 'down'\n          ? this.$parent.$refs['panel' + index].$el.focus()\n          : this.tabs[dir]\n          ? this.setActiveTab(dir)\n          : void 0;\n      }\n    },\n  },\n};\n</script>\n\n<style scoped lang=\"scss\">\n.yetitabs {\n  margin: 0 0 0 -1px !important;\n  overflow: visible;\n\n  &-link {\n    font-size: 0.9em;\n    padding: 0.25em 1em;\n  }\n\n  li,\n  a {\n    height: 100%;\n  }\n\n  li {\n    margin-right: 1px;\n  }\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Tabs.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Tabs.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Tabs.vue?vue&type=template&id=c6260810&scoped=true&\"\nimport script from \"./Tabs.vue?vue&type=script&lang=js&\"\nexport * from \"./Tabs.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Tabs.vue?vue&type=style&index=0&id=c6260810&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"c6260810\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"columns\"},[_c('div',{staticClass:\"column has-text-right\"},[_c('button',{directives:[{name:\"translate\",rawName:\"v-translate\"}],staticClass:\"button is-primary\",class:{ 'is-loading': _vm.loading },attrs:{\"disabled\":_vm.loading,\"tabindex\":_vm.tabindex},on:{\"click\":function($event){return _vm.$emit('click')}}},[_vm._v(\"\\n      Compute risk\\n    \")]),_vm._v(\" \"),(_vm.currentError)?_c('p',{staticClass:\"yetiform-error\"},[_c('span',[_vm._v(\"\\n        \"+_vm._s(_vm.currentError)+\"\\n      \")])]):_vm._e()])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"columns\">\n    <div class=\"column has-text-right\">\n      <button\n        class=\"button is-primary\"\n        :class=\"{ 'is-loading': loading }\"\n        :disabled=\"loading\"\n        :tabindex=\"tabindex\"\n        @click=\"$emit('click')\"\n        v-translate\n      >\n        Compute risk\n      </button>\n      <p class=\"yetiform-error\" v-if=\"currentError\">\n        <span>\n          {{ currentError }}\n        </span>\n      </p>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  props: {\n    currentError: {\n      type: String,\n      default: '',\n    },\n    loading: {\n      type: [Promise, Object],\n      default: null,\n    },\n    tabindex: {\n      type: String,\n      default: '0',\n    },\n  },\n};\n</script>\n\n<style scoped lang=\"scss\">\n.yetiform-error {\n  font-size: 0.8em;\n  font-style: italic;\n  margin-top: 10px;\n  text-align: right;\n  opacity: 0.75;\n\n  span::before {\n    content: 'i';\n    display: inline-block;\n    width: 1rem;\n    height: 1rem;\n    background: rgba(0, 60, 136, 0.5);\n    color: #fff;\n    border-radius: 50%;\n    font-size: 0.71rem;\n    font-weight: bold;\n    text-align: center;\n  }\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ValidationButton.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ValidationButton.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ValidationButton.vue?vue&type=template&id=ad96ba08&scoped=true&\"\nimport script from \"./ValidationButton.vue?vue&type=script&lang=js&\"\nexport * from \"./ValidationButton.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ValidationButton.vue?vue&type=style&index=0&id=ad96ba08&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"ad96ba08\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"column map-container\"},[_c('div',{staticClass:\"legend\"},[_c('div',[_c('div',{staticClass:\"legend-button is-pulled-right ol-control\"},[_c('button',{attrs:{\"type\":\"button\"},on:{\"click\":function($event){_vm.showLegend = !_vm.showLegend}}},[_c('span',{directives:[{name:\"translate\",rawName:\"v-translate\"}]},[_vm._v(\"Legend\")])])])]),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.showLegend === true),expression:\"showLegend === true\"}],staticClass:\"legend-content\"},[(!_vm.mapLegend)?_c('p',{directives:[{name:\"translate\",rawName:\"v-translate\"}],staticClass:\"is-italic\"},[_vm._v(\"Legend will appear automatically with the generated image\")]):_c('div',[_c('ul',_vm._l((_vm.mapLegend.items),function(item,i){return _c('li',{key:i},[_c('span',{staticClass:\"legend-color\",style:('background:' + item.color)}),_vm._v(\" \"),_c('span',[_vm._v(_vm._s(_vm.$gettext(item.text['en'])))])])}),0),_vm._v(\" \"),_c('p',{staticClass:\"is-size-6 is-italic\"},[_vm._v(_vm._s(_vm.$gettext(_vm.mapLegend.comment['en'])))])])])]),_vm._v(\" \"),(_vm.yetiLayerLoaded)?_c('div',{staticClass:\"ol-control opacity\"},[_c('div',{staticClass:\"opacity-slider\"},[_c('vue-slider',{attrs:{\"min\":0,\"max\":1,\"interval\":0.01,\"tooltip\":\"none\",\"direction\":\"btt\",\"rail-style\":{ background: 'rgba(0,0,0,.25)' },\"process-style\":{ background: 'white' }},on:{\"change\":_vm.onUpdateOpacityYetiLayer},model:{value:(_vm.opacityYetiLayer),callback:function ($$v) {_vm.opacityYetiLayer=$$v},expression:\"opacityYetiLayer\"}})],1)]):_vm._e(),_vm._v(\" \"),_c('map-view',{ref:\"map\",attrs:{\"show-recenter-on\":\"\"}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"column map-container\">\n    <div class=\"legend\">\n      <div>\n        <div class=\"legend-button is-pulled-right ol-control\">\n          <button type=\"button\" @click=\"showLegend = !showLegend\">\n            <span v-translate>Legend</span>\n          </button>\n        </div>\n      </div>\n      <div class=\"legend-content\" v-show=\"showLegend === true\">\n        <p class=\"is-italic\" v-if=\"!mapLegend\" v-translate>Legend will appear automatically with the generated image</p>\n        <div v-else>\n          <ul>\n            <li v-for=\"(item, i) of mapLegend.items\" :key=\"i\">\n              <span class=\"legend-color\" :style=\"'background:' + item.color\" />\n              <!-- $gettext('Risky slopes') -->\n              <!-- $gettext('Risky slopes, increased risk due to orientation') -->\n              <!-- $gettext('Residual risk >1') -->\n              <!-- $gettext('Residual risk >1.3') -->\n              <!-- $gettext('Residual risk >1.5') -->\n              <span>{{ $gettext(item.text['en']) }}</span>\n            </li>\n          </ul>\n          <!-- $gettext('From danger 3, consider the slopes which dominate the route') -->\n          <p class=\"is-size-6 is-italic\">{{ $gettext(mapLegend.comment['en']) }}</p>\n        </div>\n      </div>\n    </div>\n    <div class=\"ol-control opacity\" v-if=\"yetiLayerLoaded\">\n      <div class=\"opacity-slider\">\n        <vue-slider\n          v-model=\"opacityYetiLayer\"\n          :min=\"0\"\n          :max=\"1\"\n          :interval=\"0.01\"\n          tooltip=\"none\"\n          direction=\"btt\"\n          :rail-style=\"{ background: 'rgba(0,0,0,.25)' }\"\n          :process-style=\"{ background: 'white' }\"\n          @change=\"onUpdateOpacityYetiLayer\"\n        />\n      </div>\n    </div>\n    <map-view ref=\"map\" show-recenter-on />\n  </div>\n</template>\n\n<script>\nimport axios from 'axios';\nimport 'vue-slider-component/theme/default.css';\n\nimport c2c from '@/js/apis/c2c';\nimport ol from '@/js/libs/ol';\n\nconst YETI_ATTRIBUTION = 'RGE ALTI';\nconst YETI_LAYER_OPACITY = 0.75;\nconst YETI_URL_MOUNTAINS = '/mountains_WGS84.json';\nconst YETI_URL_AREAS = 'https://api.ensg.eu/yeti-extent';\n\nconst normalLineStyle = new ol.style.Style({\n  stroke: new ol.style.Stroke({\n    color: 'yellow',\n    width: 3,\n  }),\n});\n\nconst highlightedLineStyle = [\n  new ol.style.Style({\n    stroke: new ol.style.Stroke({\n      color: 'rgba(255, 255, 0, .5)',\n      width: 8,\n    }),\n    zIndex: 1,\n  }),\n  new ol.style.Style({\n    stroke: new ol.style.Stroke({\n      color: 'red',\n      width: 3,\n    }),\n    zIndex: 1,\n  }),\n];\n\nexport default {\n  components: { VueSlider: () => import(/* webpackChunkName: \"slider\" */ 'vue-slider-component') },\n  props: {\n    activeTab: {\n      type: Number,\n      required: true,\n    },\n    validMinZoom: {\n      type: Number,\n      required: true,\n    },\n    mapZoom: {\n      type: Number,\n      required: true,\n    },\n    computedExtent: {\n      type: Array,\n      required: true,\n    },\n    computedData: {\n      type: String,\n      default: null,\n    },\n    mountains: {\n      type: Object,\n      required: true,\n    },\n    areaOk: {\n      type: Boolean,\n      required: true,\n    },\n    features: {\n      type: Array,\n      required: true,\n    },\n    gpx: {\n      type: String,\n      default: null,\n    },\n    featuresTitle: {\n      type: String,\n      required: true,\n    },\n  },\n  data() {\n    return {\n      featuresTitleFromSource: null,\n      promiseDocument: null,\n\n      yetiLayerLoaded: false,\n      showLegend: undefined,\n      mapLegend: null,\n      opacityYetiLayer: YETI_LAYER_OPACITY,\n\n      areas: [],\n    };\n  },\n  computed: {\n    localFeaturesTitle() {\n      if (this.featuresTitleFromSource) {\n        return this.featuresTitleFromSource;\n      }\n      if (this.features.length) {\n        return this.featuresTitle;\n      }\n      return null;\n    },\n    areasLayerStyle() {\n      const levelStrokeWidth = 2;\n      const levelStrokeOpacity = 4;\n      const lineWidthStroke = Math.max(0, Math.min(this.mapZoom - 6, levelStrokeWidth));\n      const opacityStroke = Math.max(0, Math.min(this.mapZoom - 6, levelStrokeOpacity)) / 4;\n      const lineDashStroke = opacityStroke * 6;\n\n      return new ol.style.Style({\n        stroke: new ol.style.Stroke({\n          color: 'hsla(30, 100%, 40%,' + opacityStroke + ')',\n          width: lineWidthStroke,\n          lineDash: [lineDashStroke],\n        }),\n      });\n    },\n  },\n  watch: {\n    gpx() {\n      if (this.gpx) {\n        this.addFeaturesFromGpx(this.gpx);\n      }\n    },\n    localFeaturesTitle() {\n      this.$emit('update:featuresTitle', this.localFeaturesTitle);\n    },\n    activeTab() {\n      if (this.activeTab === 0) {\n        this.drawInteraction.setActive(false);\n        this.modifyInteraction.setActive(false);\n        this.snapInteraction.setActive(false);\n      } else {\n        this.drawInteraction.setActive(true);\n        this.modifyInteraction.setActive(true);\n        this.snapInteraction.setActive(true);\n      }\n    },\n    computedData() {\n      this.drawYetiImage();\n    },\n    computedExtent() {\n      this.drawExtent(this.computedExtent);\n    },\n  },\n  mounted() {\n    // New layers\n    // yeti layer\n    this.yetiLayer = new ol.layer.Image({\n      source: new ol.source.ImageStatic({\n        url: null,\n        imageExtent: ol.extent.createEmpty(),\n      }),\n      opacity: this.opacityYetiLayer,\n    });\n    // extent layer\n    this.extentLayer = new ol.layer.Vector({\n      source: new ol.source.Vector(),\n      style: [\n        new ol.style.Style({\n          fill: new ol.style.Fill({\n            color: 'hsla(30, 100%, 60%, .45)',\n          }),\n        }),\n        new ol.style.Style({\n          stroke: new ol.style.Stroke({\n            color: 'hsla(30, 100%, 40%, 1)',\n            width: 2,\n          }),\n          geometry: (feature) => {\n            return new ol.geom.Polygon([feature.getGeometry().getCoordinates()[1]]);\n          },\n        }),\n      ],\n    });\n    // areas layer\n    this.areasLayer = new ol.layer.Vector({\n      renderMode: 'image',\n      source: new ol.source.Vector(),\n      style: this.areasLayerStyle,\n    });\n    // features layer\n    this.featuresLayer = new ol.layer.Vector({\n      source: new ol.source.Vector(),\n      style: normalLineStyle,\n    });\n    this.featuresLayerSource = this.featuresLayer.getSource();\n\n    // store map component and map/view\n    this.mapView = this.$refs.map;\n    this.map = this.$refs.map.map;\n    this.view = this.map.getView();\n\n    // add layers to map\n    this.map.addLayer(this.areasLayer);\n    this.map.addLayer(this.yetiLayer);\n    this.map.addLayer(this.extentLayer);\n    this.map.addLayer(this.featuresLayer);\n\n    // load camptocamp document\n    const doc = this.$route.params.document_id;\n    const lang = this.$language.current;\n    if (doc) {\n      c2c['route'].getCooked(doc, lang).then(this.addFeaturesFromDocument);\n    }\n\n    // add events\n    this.addEvents();\n    // add interactions\n    this.addInteractions();\n\n    // set mountains\n    axios.get(YETI_URL_MOUNTAINS).then(this.onMountainsResult);\n\n    // set areas (yeti valid areas)\n    axios.get(YETI_URL_AREAS).then(this.onAreasResult);\n  },\n  methods: {\n    getExtent(projection) {\n      return this.mapView.getExtent(projection);\n    },\n\n    clearLayers() {\n      this.yetiLayer.setSource(null);\n      this.yetiLayerLoaded = false;\n\n      this.extentLayer.getSource().clear();\n    },\n\n    addEvents() {\n      // remove hover/click events on map\n      this.map.un('pointermove', this.mapView.onPointerMove);\n      this.map.un('click', this.mapView.onClick);\n      // global events\n      this.map.on('moveend', this.onMapMoveEnd);\n      // features events (added feature)\n      this.featuresLayerSource.on('addfeature', this.onFeature);\n    },\n\n    addInteractions() {\n      const source = this.featuresLayerSource;\n\n      this.modifyInteraction = new ol.interaction.Modify({ source });\n      this.map.addInteraction(this.modifyInteraction);\n\n      this.drawInteraction = new ol.interaction.Draw({\n        source,\n        type: 'LineString',\n      });\n      this.map.addInteraction(this.drawInteraction);\n\n      this.snapInteraction = new ol.interaction.Snap({ source });\n      this.map.addInteraction(this.snapInteraction);\n\n      this.drawInteraction.on('drawstart', this.onDrawStart);\n      this.drawInteraction.on('drawend', this.onDrawEnd);\n      this.modifyInteraction.on('modifyend', this.onModifyEnd);\n\n      this.drawInteraction.setActive(false);\n      this.modifyInteraction.setActive(false);\n      this.snapInteraction.setActive(false);\n    },\n\n    onMapMoveEnd(event) {\n      const mapZoom = Math.floor(event.map.getView().getZoom() * 10) / 10;\n      this.$emit('update:mapZoom', mapZoom);\n\n      // set visible mountains\n      this.setVisibleMountains();\n\n      // is area OK ?\n      this.isAreaOK();\n      // update areas layer style\n      this.areasLayer.setStyle(this.areasLayerStyle);\n    },\n\n    fitMapToFeatures() {\n      let extent = ol.extent.createEmpty();\n\n      ol.extent.extend(extent, this.featuresLayerSource.getExtent());\n\n      this.view.fit(extent, { size: this.map.getSize() });\n\n      // set a minimum zoom level\n      this.view.setZoom(Math.max(this.validMinZoom, this.view.getZoom()));\n    },\n\n    addFeaturesFromGpx(gpx) {\n      // first, remove camptocamp document\n      this.promiseDocument = null;\n      // and clear geometry\n      this.featuresLayerSource.clear(true);\n\n      // before reading gpx, set what we are doing\n      this.loadingExternalFeatures = true;\n\n      const gpxFormat = new ol.format.GPX();\n      const features = gpxFormat.readFeatures(gpx, { featureProjection: 'EPSG:3857' });\n      features.map(this.addFeature);\n      this.featuresTitleFromSource = this.getFeaturesTitleFromGpx(features);\n\n      // gpx is loaded, go back to normal case\n      this.loadingExternalFeatures = false;\n      // and emit new features\n      this.emitFeaturesEvent();\n      // fit map to new features\n      this.fitMapToFeatures();\n    },\n\n    addFeaturesFromDocument(doc) {\n      // before reading document, set what we are doing\n      this.loadingExternalFeatures = true;\n\n      const documentGeometry = doc.data.geometry.geom_detail;\n      const feature = new ol.format.GeoJSON().readFeature(documentGeometry);\n      this.addFeature(feature);\n      this.featuresTitleFromSource = this.getFeaturesTitleFromDocument(doc);\n\n      // document is loaded, go back to normal case\n      this.loadingExternalFeatures = false;\n      // and emit new features\n      this.emitFeaturesEvent();\n      // fit map to new features\n      this.fitMapToFeatures();\n    },\n\n    addFeature(feature) {\n      // split multilinestrings into linestrings\n      if (feature.getGeometry().getType() === 'MultiLineString') {\n        const lines = feature.getGeometry().getLineStrings();\n        lines.map((line) => new ol.Feature({ geometry: line })).map(this.addFeature);\n      } else {\n        const nbPointsOnFeature = feature.getGeometry().getCoordinates().length;\n        if (nbPointsOnFeature >= 2) {\n          this.featuresLayerSource.addFeature(feature);\n        }\n      }\n    },\n\n    removeFeature(feature) {\n      // remove feature\n      // when only one left, ask for user to confirm\n      let toBeRemoved = !(\n        this.featuresLayerSource.getFeatures().length === 1 && !confirm(this.$gettext('Confirm delete'))\n      );\n      if (toBeRemoved) {\n        this.featuresLayerSource.removeFeature(feature);\n        this.emitFeaturesEvent();\n      }\n    },\n\n    removeFeatures() {\n      if (confirm(this.$gettext('Confirm delete'))) {\n        this.featuresLayerSource.clear(true);\n        this.emitFeaturesEvent();\n      }\n    },\n\n    emitFeaturesEvent() {\n      // updates features\n      const features = this.getFeaturesLayerFeatures();\n      this.$emit('update:features', features);\n\n      if (features.length === 0) {\n        this.featuresTitleFromSource = null;\n\n        // if user come from a document url, remove url\n        if (this.$route.params.document_id) {\n          this.$router.replace({ path: '/' + this.$route.name });\n        }\n      }\n    },\n\n    getFeaturesLayerFeatures() {\n      return this.featuresLayerSource.getFeatures();\n    },\n\n    getFeaturesTitleFromGpx(features) {\n      if (features && features.length) {\n        const properties = features[0].getProperties();\n        if (properties.name) {\n          return properties.name;\n        } else {\n          return this.$gettext('GPX file');\n        }\n      }\n    },\n\n    getFeaturesTitleFromDocument(document) {\n      return this.$documentUtils.getDocumentTitle(document.data);\n    },\n\n    onFeature(event) {\n      // set features styles\n      event.feature.set('highlightedStyle', highlightedLineStyle);\n      // emit new features, only in normal case (drawing)\n      // not in gpx/document case (prevent multiple update for each lines)\n      if (!this.loadingExternalFeatures) {\n        this.emitFeaturesEvent();\n      }\n    },\n\n    onDrawStart() {\n      document.addEventListener('keydown', this.onKeyWhileDrawing);\n      document.addEventListener('keypress', this.onKeyWhileDrawing);\n    },\n\n    onDrawEnd() {\n      document.removeEventListener('keydown', this.onKeyWhileDrawing);\n      document.removeEventListener('keypress', this.onKeyWhileDrawing);\n    },\n\n    onModifyEnd() {\n      this.emitFeaturesEvent();\n    },\n\n    onKeyWhileDrawing(event) {\n      event.preventDefault();\n      // backspace key\n      if (event.key === 'Backspace') {\n        this.drawInteraction.removeLastPoint();\n      }\n    },\n\n    drawYetiImage() {\n      const xml = new DOMParser().parseFromString(this.computedData, 'application/xml');\n      const imageBase64 = xml.getElementsByTagName('wps:ComplexData')[0].textContent;\n      const imageBbox = xml.getElementsByTagName('wps:ComplexData')[1].textContent;\n      const imageExtent = ol.proj.transformExtent(imageBbox.split(',').map(Number), 'EPSG:4326', 'EPSG:3857');\n\n      this.yetiLayer.setSource(\n        new ol.source.ImageStatic({\n          imageLoadFunction(image) {\n            image.getImage().src = 'data:image/png;base64,' + imageBase64;\n          },\n          attributions: YETI_ATTRIBUTION,\n          imageExtent,\n        })\n      );\n      // source is set\n      this.yetiLayerLoaded = true;\n      // set map legend\n      this.setLegend(xml);\n    },\n\n    setLegend(xml) {\n      this.mapLegend = JSON.parse(xml.getElementsByTagName('wps:ComplexData')[2].textContent);\n      this.mapLegend.items.forEach((item) => {\n        item.color = `rgb(${item.color[0]}, ${item.color[1]}, ${item.color[2]})`;\n      });\n    },\n\n    drawExtent(extent) {\n      // extend extent\n      const extentFill = ol.extent.buffer(extent, Math.max(extent[2] - extent[0], extent[3] - extent[1]) / 10);\n      // then, create a donut polygon\n      const feature = new ol.Feature(new ol.geom.Polygon([this.toLinearRing(extentFill), this.toLinearRing(extent)]));\n      // add feature to extentlayer\n      this.extentLayer.getSource().addFeature(feature);\n    },\n\n    toLinearRing(extent) {\n      const minX = extent[0];\n      const minY = extent[1];\n      const maxX = extent[2];\n      const maxY = extent[3];\n      return [\n        [minX, minY],\n        [minX, maxY],\n        [maxX, maxY],\n        [maxX, minY],\n        [minX, minY],\n      ];\n    },\n\n    onUpdateOpacityYetiLayer() {\n      this.yetiLayer.setOpacity(this.opacityYetiLayer);\n    },\n\n    onMountainsResult(data) {\n      const features = data.data;\n      let mountains = new ol.format.GeoJSON().readFeatures(features).map((mountain) => {\n        return mountain.getProperties();\n      });\n      this.allMountains = this.sortMountainsByMassif(mountains);\n      this.setVisibleMountains();\n    },\n\n    sortMountainsByMassif(mountains) {\n      // first, order mountains by massifs\n      const sortedMountains = {};\n      for (let i = 0; i < mountains.length; i++) {\n        if (!sortedMountains[mountains[i].mountain]) {\n          sortedMountains[mountains[i].mountain] = [];\n        }\n        sortedMountains[mountains[i].mountain].push(mountains[i]);\n      }\n      mountains = sortedMountains;\n\n      // then sort mountains inside each massif\n      for (const i in mountains) {\n        mountains[i].sort((a, b) => {\n          if (a.title < b.title) return -1;\n          if (b.title > a.title) return 1;\n          return 0;\n        });\n      }\n\n      return mountains;\n    },\n\n    setVisibleMountains() {\n      // return, if mountains not loaded\n      if (!this.allMountains) {\n        return;\n      }\n      const mapExtent = this.getExtent('EPSG:4326');\n      // clone this.mountains first, with no reference\n      const visibleMountains = Object.assign({}, this.allMountains);\n      // then filter if polygon isnt in view\n      for (const massif in visibleMountains) {\n        visibleMountains[massif] = visibleMountains[massif].filter((mountain) => {\n          const polygon = mountain.geometry;\n          return polygon.intersectsExtent(mapExtent);\n        });\n        // unset massif if empty\n        if (visibleMountains[massif].length === 0) {\n          delete visibleMountains[massif];\n        }\n      }\n      // set mountains in visibleMountains key\n      const mountains = { visibleMountains };\n      this.$emit('update:mountains', mountains);\n    },\n\n    onAreasResult(data) {\n      const areas = data.data;\n      const rawFeatures = new ol.format.GeoJSON().readFeatures(areas);\n      // geojson is 4326, convert to 3857\n      rawFeatures[0].getGeometry().transform('EPSG:4326', 'EPSG:3857');\n\n      this.areas = rawFeatures.map((area) => {\n        return area.getProperties();\n      });\n\n      // flatten coords\n      const rawCoords = rawFeatures[0].getGeometry().getCoordinates();\n      const coords = [];\n      for (let i = 0; i < rawCoords.length; i++) {\n        coords.push(...rawCoords[i]);\n      }\n      // then, build linestrings instead of polygon (perf)\n      const features = [];\n      for (let i = 0; i < coords.length; i++) {\n        for (let j = 0; j < coords[i].length - 1; j++) {\n          features.push(new ol.Feature(new ol.geom.LineString([coords[i][j], coords[i][j + 1]])));\n        }\n      }\n\n      // add features\n      this.areasLayer.getSource().addFeatures(features);\n      // is area OK\n      this.isAreaOK();\n    },\n\n    isAreaOK() {\n      const mapExtent = this.getExtent('EPSG:3857');\n\n      let areaOk = true;\n\n      for (const area in this.areas) {\n        const polygon = this.areas[area].geometry;\n        if (polygon.intersectsExtent(mapExtent)) {\n          break;\n        } else {\n          areaOk = false;\n        }\n      }\n\n      this.$emit('update:areaOk', areaOk);\n    },\n  },\n};\n</script>\n\n<style scoped lang=\"scss\">\n@import '@/assets/sass/variables.scss';\n\n$section-padding: 1.5rem; //TODO find this variable\n$box-padding: 1.25rem; //TODO find this variable\n$header-height: 34px;\n$box-margin: 1.5rem; //TODO find this variable\n$yeti-height: calc(\n  100vh - #{$navbar-height} - #{$section-padding} - 2 *#{$box-padding} - #{$header-height} - #{$box-margin} - #{$box-margin}\n);\n\n.map-container {\n  position: relative;\n\n  .legend {\n    position: absolute;\n    z-index: 6;\n    top: 1.25rem;\n    right: 1.25rem;\n\n    .legend-button {\n      position: static;\n\n      button {\n        width: auto;\n        padding: 0 0.5em;\n      }\n    }\n\n    .legend-content {\n      margin-top: 0.5rem;\n      margin-left: 1.25rem;\n      border-radius: 2px;\n      border: 1px solid lightgray;\n      padding: 0.5rem;\n      background: white;\n      clear: both;\n    }\n\n    .legend-color {\n      vertical-align: bottom;\n      display: inline-block;\n      width: 21px;\n      height: 21px;\n      margin-right: 5px;\n    }\n  }\n\n  .opacity {\n    position: absolute;\n    z-index: 5;\n    top: 3.5rem;\n    right: 1.25rem;\n\n    .opacity-slider {\n      font-size: 1.14em;\n      margin: 1px;\n      width: 1.375em;\n      padding: 1rem 0;\n      background: rgba(0, 60, 136, 0.5);\n      border-radius: 2px;\n\n      &:hover {\n        background: rgba(0, 60, 136, 0.7);\n      }\n    }\n\n    .vue-slider {\n      padding: 0 9px !important;\n      height: 300px !important;\n      max-height: 30vh;\n    }\n\n    .vue-slider-process {\n      background: $white;\n    }\n\n    .vue-slider-rail {\n      background: $black;\n    }\n  }\n}\n@media screen and (max-width: $tablet) {\n  .map-container {\n    height: $yeti-height;\n    padding-left: 0;\n    padding-top: 0;\n    padding-bottom: 0;\n\n    .legend {\n      top: 0.5rem;\n\n      .legend-content {\n        margin-left: 0.5rem;\n      }\n    }\n\n    .opacity {\n      top: 2.75rem;\n    }\n  }\n}\n\n@media screen and (min-width: $tablet) {\n  .yeti-content {\n    .map-container {\n      min-height: 100%;\n    }\n  }\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./YetiMap.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./YetiMap.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./YetiMap.vue?vue&type=template&id=28368954&scoped=true&\"\nimport script from \"./YetiMap.vue?vue&type=script&lang=js&\"\nexport * from \"./YetiMap.vue?vue&type=script&lang=js&\"\nimport style0 from \"./YetiMap.vue?vue&type=style&index=0&id=28368954&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"28368954\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <!-- eslint-disable no-irregular-whitespace -->\n  <div class=\"section\">\n    <html-header title=\"Yeti\" />\n    <div class=\"box\">\n      <h1 class=\"title is-1\">\n        <div class=\"yeti-icon is-inline-block\">\n          <icon-yeti />\n        </div>\n        <span v-translate>YETI - A preparation tool for your outing</span>\n      </h1>\n    </div>\n\n    <div class=\"yeti-app\">\n      <div class=\"box yeti-overlay\" v-if=\"showDisclaimer\">\n        <yeti-article class=\"yeti-article--disclaimer\" :article=\"articles.disclaimer\"></yeti-article>\n        <form action=\"#\" @submit=\"onSubmitDisclaimer\">\n          <input-checkbox v-model=\"checkDisclaimer\" v-translate>\n            I read and understood the interest and limitations of YETI\n          </input-checkbox>\n          <button class=\"button is-primary\" :disabled=\"!checkDisclaimer\" v-translate>Launch YETI</button>\n        </form>\n      </div>\n\n      <div class=\"box yeti-overlay\" v-if=\"$route.params.page === 'faq'\">\n        <p><router-link to=\".\" v-translate>Go back to YETI</router-link></p>\n        <yeti-article class=\"yeti-article--disclaimer\" :article=\"articles.disclaimer\"></yeti-article>\n        <yeti-article :article=\"articles.faq\"></yeti-article>\n      </div>\n\n      <div class=\"columns yeti-content\">\n        <div class=\"column is-6-tablet is-6-desktop is-5-widescreen is-4-fullhd form-container\">\n          <div class=\"columns mb-0 yeti-columns--reverse is-mobile\">\n            <ul class=\"column is-narrow pb-0\">\n              <li>\n                <router-link class=\"is-block yetitabs-link\" :to=\"$route.fullPath + '/faq'\" v-translate>\n                  FAQ?\n                </router-link>\n              </li>\n            </ul>\n            <tabs :tabs=\"tabs\" :active-tab.sync=\"activeTab\" :has-features=\"hasFeatures\" />\n          </div>\n          <div class=\"box\">\n            <panel ref=\"panel0\" :index=\"0\" :active-tab=\"activeTab\" class=\"is-relative\">\n              <validation-button\n                class=\"is-hidden-mobile yeti-validation--top\"\n                :current-error=\"currentError\"\n                :loading=\"promise\"\n                @click=\"compute\"\n                tabindex=\"-1\"\n              />\n              <sub-panel-bra :bra.sync=\"bra\" :mountains=\"mountains\" />\n              <sub-panel-methods :method.sync=\"method\" :bra=\"bra\" @warn-about-method-bra=\"warnAboutMethodBra\" />\n              <validation-button\n                v-show=\"method.type\"\n                class=\"yeti-validation--bottom\"\n                :current-error=\"currentError\"\n                :loading=\"promise\"\n                @click=\"compute\"\n              />\n            </panel>\n\n            <panel ref=\"panel1\" :index=\"1\" :active-tab=\"activeTab\">\n              <sub-panel-course\n                :map=\"yetiMap\"\n                :features=\"features\"\n                :features-title.sync=\"featuresTitle\"\n                @gpx=\"onGpxLoaded\"\n              />\n            </panel>\n          </div>\n\n          <div class=\"box yeti-logos\">\n            <div class=\"columns is-mobile is-vcentered\">\n              <div class=\"column has-text-centered\">\n                <a href=\"http://www.ensg.eu\">\n                  <picture>\n                    <source srcset=\"@/assets/img/yeti/logo-ensg.webp\" type=\"image/webp\" />\n                    <source srcset=\"@/assets/img/yeti/logo-ensg.avif\" type=\"image/avif\" />\n                    <img src=\"@/assets/img/yeti/logo-ensg.jpg\" alt=\"Logo ENSG\" width=\"120\" loading=\"lazy\" />\n                  </picture>\n                </a>\n              </div>\n              <div class=\"column has-text-centered\">\n                <a href=\"https://www.petzl.com/fondation/fondation-petzl?language=fr\">\n                  <picture>\n                    <source srcset=\"@/assets/img/yeti/logo-fondation-petzl.webp\" type=\"image/webp\" />\n                    <source srcset=\"@/assets/img/yeti/logo-fondation-petzl.avif\" type=\"image/avif\" />\n                    <img\n                      src=\"@/assets/img/yeti/logo-fondation-petzl.jpg\"\n                      alt=\"Logo Fondation Petzl\"\n                      width=\"90\"\n                      loading=\"lazy\"\n                    />\n                  </picture>\n                </a>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        <yeti-map\n          ref=\"map\"\n          :gpx=\"gpx\"\n          :active-tab=\"activeTab\"\n          :valid-min-zoom=\"validFormData.minZoom\"\n          :map-zoom.sync=\"mapZoom\"\n          :computed-extent=\"yetiExtent\"\n          :computed-data=\"yetiImage\"\n          :mountains.sync=\"mountains\"\n          :area-ok.sync=\"areaOk\"\n          :features.sync=\"features\"\n          :features-title.sync=\"featuresTitle\"\n        />\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport axios from 'axios';\n\nimport YetiArticle from '@/components/yeti/Article';\nimport Panel from '@/components/yeti/Panel';\nimport SubPanelBra from '@/components/yeti/SubPanelBra';\nimport SubPanelCourse from '@/components/yeti/SubPanelCourse';\nimport SubPanelMethods from '@/components/yeti/SubPanelMethods';\nimport Tabs from '@/components/yeti/Tabs';\nimport ValidationButton from '@/components/yeti/ValidationButton';\nimport YetiMap from '@/components/yeti/YetiMap';\nimport ol from '@/js/libs/ol';\n\nconst YETI_URL_BASE =\n  'https://api.ensg.eu/yeti-wps?request=Execute&service=WPS&version=1.0.0&identifier=Yeti&datainputs=';\n\nconst VALID_FORM_DATA = {\n  minZoom: 13,\n  braMaxMrd: 3,\n};\n\nexport default {\n  name: 'Yeti',\n\n  components: {\n    YetiArticle,\n    Panel,\n    SubPanelBra,\n    SubPanelCourse,\n    SubPanelMethods,\n    Tabs,\n    ValidationButton,\n    YetiMap,\n  },\n\n  data() {\n    return {\n      showDisclaimer: false,\n      checkDisclaimer: false,\n\n      articles: {\n        faq: {\n          id: 1257569,\n          title: 'FAQ',\n        },\n        disclaimer: {\n          id: 1257571,\n          title: this.$gettext('Disclaimer'),\n        },\n      },\n\n      yetiMap: null,\n\n      tabs: [this.$gettext('Compute'), this.$gettext('Outing')],\n      activeTab: 0,\n\n      errors: {\n        area: {\n          simple: this.$gettext('Area not covered'),\n          full: this.$gettext(\n            'Current map view is not covered by YETI. Only french mountains are as of now (determined by a dashed stroke).'\n          ),\n        },\n        method: {\n          simple: this.$gettext('Missing method'),\n          full: this.$gettext('Please select a method before computing.'),\n        },\n        method_bra: {\n          simple: this.$gettext('Conflicting method and danger'),\n          full: this.$gettext(\n            'The MRD method (beginner) is allowed when danger is 3 maximum. Choose another method: MRE or MRP.'\n          ),\n        },\n        bra: {\n          simple: this.$gettext('Missing danger level'),\n          full: this.$gettext('Please set danger level as specified on avalanche bulletin for the specific area.'),\n        },\n        altitude: {\n          simple: this.$gettext('Missing altitude'),\n          full: this.$gettext(\n            'Altitude is mandatory when danger high and low are different. Please set altitude as specified on avalanche bulletin for the specific area.'\n          ),\n        },\n        zoom: {\n          simple: this.$gettext('Area too large'),\n          full: this.$gettext('Current map view is too large. Please zoom to level ' + VALID_FORM_DATA.minZoom),\n        },\n        ok: this.$gettext('Seems fine! :)'),\n        yeti: this.$gettext('Service is inactive right now'),\n        yeti_prefix: 'YETI Service: ',\n        yeti_unauthorized: this.$gettext(\n          'You have to be authorized. Please contact administrators of the service if interested.'\n        ),\n      },\n\n      validFormData: VALID_FORM_DATA,\n\n      bra: {\n        high: null,\n        low: null,\n        altiThreshold: null,\n        isDifferent: false,\n      },\n      method: {\n        type: null,\n        orientation: [],\n        potentialDanger: undefined,\n        wetSnow: false,\n        groupSize: 1,\n      },\n\n      mapZoom: 0,\n      formError: undefined,\n      currentError: undefined,\n\n      promise: null,\n      yetiImage: null,\n      yetiLayer: null,\n      yetiExtent: [],\n\n      features: [],\n      gpx: null,\n      featuresTitle: this.$gettext('New route'),\n\n      mountains: {},\n\n      areaOk: true,\n    };\n  },\n\n  computed: {\n    mrdIsNotApplicable() {\n      return this.isBraMax && this.method.type === 'mrd';\n    },\n\n    isBraMax() {\n      return this.bra.high > this.validFormData.braMaxMrd || this.bra.low > this.validFormData.braMaxMrd;\n    },\n\n    isValidMapZoom() {\n      return this.mapZoom >= this.validFormData.minZoom;\n    },\n\n    hasFeatures() {\n      return !!this.features.length;\n    },\n  },\n\n  watch: {\n    'bra.low': 'check',\n    'bra.altiThreshold': 'check',\n    'bra.isDifferent': 'check',\n    'method.type': 'check',\n    'method.potentialDanger': 'check',\n    mapZoom: 'check',\n    areaOk: 'check',\n    featuresTitle(newValue) {\n      // set default featuresTitle if null (from yeti map)\n      if (newValue === null) {\n        this.featuresTitle = this.$gettext('New route');\n      }\n    },\n  },\n\n  created() {\n    // show disclaimer if not already validated\n    if (!this.$localStorage.get('yeti-disclaimer')) {\n      this.showDisclaimer = true;\n    }\n  },\n\n  mounted() {\n    // yeti app is loaded: store yetiMap\n    this.yetiMap = this.$refs.map;\n\n    this.check();\n  },\n\n  methods: {\n    check() {\n      if (!this.areaOk) {\n        this.formError = 'area';\n      } else if (!this.isValidMapZoom) {\n        this.formError = 'zoom';\n      } else if (!this.bra.high) {\n        this.formError = 'bra';\n      } else if (this.bra.low && this.bra.high !== this.bra.low && !this.bra.altiThreshold) {\n        this.formError = 'altitude';\n      } else if (!this.method.type) {\n        this.formError = 'method';\n      } else if (this.mrdIsNotApplicable) {\n        this.formError = 'method_bra';\n      } else if (this.bra.isDifferent && (!this.bra.low || !this.bra.high)) {\n        this.formError = 'bra';\n      } else {\n        this.formError = null;\n      }\n      // also\n      // verif if bra = 4, method MRD forbidden\n      if (this.mrdIsNotApplicable) {\n        this.method.type = null;\n      }\n\n      // then set errors\n      this.setCurrentError();\n    },\n\n    warnAboutMethodBra(item) {\n      if (item === 'mrd' && this.isBraMax) {\n        window.alert(this.errors.method_bra.full);\n      }\n    },\n\n    setCurrentError() {\n      if (this.formError) {\n        this.currentError = this.errors[this.formError]['simple'];\n        if (this.formError === 'zoom') {\n          this.currentError +=\n            ' (' +\n            this.$gettext('current zoom:') +\n            ' ' +\n            this.mapZoom +\n            ' ' +\n            this.$gettext('on') +\n            ' ' +\n            this.validFormData.minZoom +\n            ')';\n        }\n      } else {\n        this.currentError = this.errors['ok'];\n      }\n    },\n\n    compute() {\n      if (this.formError) {\n        window.alert(this.errors[this.formError]['full']);\n        return;\n      }\n\n      const extent = this.$refs.map.getExtent('EPSG:3857');\n      const extendedExtent = this.extendExtent(extent);\n\n      const yetiUrl = this.getYetiUrl(extendedExtent);\n\n      // remove old layers first\n      this.yetiMap.clearLayers();\n\n      // fetch img\n      this.promise = axios\n        .get(yetiUrl)\n        .then((result) => this.onYetiResult(result, extendedExtent))\n        .catch(this.onYetiError);\n    },\n\n    extendExtent(extent) {\n      const extendedFactor = Math.min(0.5, (this.mapZoom - this.validFormData.minZoom) / 6);\n      const extendedValue = Math.max(extent[2] - extent[0], extent[3] - extent[1]) * extendedFactor;\n      return ol.extent.buffer(extent, extendedValue);\n    },\n\n    onYetiResult(result, extendedExtent) {\n      this.yetiImage = result.data;\n      this.yetiExtent = extendedExtent;\n\n      this.promise = null;\n    },\n\n    onYetiError(err) {\n      this.promise = null;\n\n      let errorText = this.errors['yeti'];\n\n      if (err.response.status === 400) {\n        const xml = new DOMParser().parseFromString(err.response.data, 'text/xml');\n        errorText = [...xml.getElementsByTagName('ExceptionText')].map((_) => _.textContent).join(' ');\n      }\n\n      if (err.response.status === 403) {\n        errorText = this.errors['yeti_unauthorized'];\n      }\n\n      window.alert(this.errors['yeti_prefix'] + errorText);\n    },\n\n    getYetiUrl(extent) {\n      // project extent\n      const bbox = ol.proj.transformExtent(extent, 'EPSG:3857', 'EPSG:4326');\n\n      // set bra.low / altiThreshold\n      const braLow = this.bra.isDifferent ? this.bra.low : this.bra.high;\n      const braAltiThreshold = this.bra.isDifferent ? this.bra.altiThreshold : 0;\n\n      // mre\n      const compass =\n        this.method.type === 'mre' && this.method.orientation.length !== 0\n          ? 'none,' + this.method.orientation.join(',').toLowerCase()\n          : 'none';\n\n      // mrp\n      const potentialDanger = this.method.type === 'mrp' ? this.method.potentialDanger : 0;\n      const wetSnow = this.method.type === 'mrp' ? this.method.wetSnow : false;\n      const groupSize = this.method.type === 'mrp' ? Math.floor(this.method.groupSize) : 0;\n\n      // create url\n      let result = YETI_URL_BASE;\n      result += `methode=${this.method.type};`;\n      result += `bbox=${bbox[0]},${bbox[1]},${bbox[2]},${bbox[3]};`;\n      result += `risque_haut=${this.bra.high};`;\n      result += `risque_bas=${braLow};`;\n      result += `seuil_alti=${braAltiThreshold};`;\n      result += `rdv=${compass};`;\n      result += `potentiel_danger=${potentialDanger};`;\n      result += `neige_mouillee=${wetSnow};`;\n      result += `taille_groupe=${groupSize}`;\n\n      return result;\n    },\n\n    onSubmitDisclaimer() {\n      this.showDisclaimer = false;\n      this.$localStorage.set('yeti-disclaimer', 'validated');\n    },\n\n    onGpxLoaded(data) {\n      this.gpx = data;\n    },\n  },\n};\n</script>\n\n<style scoped lang=\"scss\">\n$section-padding: 1.5rem; //TODO find this variable\n$box-padding: 1.25rem; //TODO find this variable\n$header-height: 34px;\n$box-margin: 1.5rem; //TODO find this variable\n$yeti-height: calc(\n  100vh - #{$navbar-height} - #{$section-padding} - 2 *#{$box-padding} - #{$header-height} - #{$box-margin} - #{$box-margin}\n);\n\n.yeti-app {\n  position: relative;\n}\n\n.yeti-icon {\n  transform: scale(0.9);\n}\n\n.yeti-columns--reverse {\n  flex-direction: row-reverse;\n}\n\n@media screen and (max-width: $tablet) {\n  .mobile-result-map {\n    margin-top: 0;\n    height: $yeti-height;\n\n    .documents-container {\n      display: None;\n    }\n  }\n\n  .mobile-result-card {\n    .map-container {\n      visibility: hidden; // map does not like to be in a display none...\n    }\n  }\n}\n\n@media screen and (min-width: $tablet) {\n  .yeti-content {\n    height: $yeti-height;\n\n    .form-container {\n      height: 100%;\n      overflow: auto;\n    }\n  }\n}\n\n.yeti-validation--top {\n  position: absolute;\n  right: 0;\n  top: 0.75rem;\n  width: 50%;\n  z-index: 1;\n}\n\n.yeti-validation--bottom {\n  margin-top: 1rem;\n}\n\n.yeti-logos {\n  box-shadow: none;\n  background: none;\n  mix-blend-mode: multiply;\n\n  img {\n    max-width: 65%;\n  }\n}\n\n.yeti-overlay {\n  position: absolute;\n  z-index: 10;\n  top: 0.75rem;\n  right: 0;\n  left: 0;\n  min-height: 100%;\n\n  & ~ .yeti-content {\n    visibility: hidden;\n  }\n}\n</style>\n\n<style lang=\"scss\">\n/* Not scoped styles */\n.yeti-app {\n  .input-orientation {\n    width: 120px;\n    height: 120px;\n  }\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./YetiView.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./YetiView.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./YetiView.vue?vue&type=template&id=b6fce666&scoped=true&\"\nimport script from \"./YetiView.vue?vue&type=script&lang=js&\"\nexport * from \"./YetiView.vue?vue&type=script&lang=js&\"\nimport style0 from \"./YetiView.vue?vue&type=style&index=0&id=b6fce666&scoped=true&lang=scss&\"\nimport style1 from \"./YetiView.vue?vue&type=style&index=1&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"b6fce666\",\n  null\n  \n)\n\nexport default component.exports","module.exports = __webpack_public_path__ + \"img/logo-ensg.e6781953.jpg\";","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SubPanelBra.vue?vue&type=style&index=0&id=df986eea&scoped=true&lang=scss&\"","module.exports = __webpack_public_path__ + \"img/logo-fondation-petzl.24ab8a49.webp\";","module.exports = __webpack_public_path__ + \"img/logo-ensg.35fbf647.webp\";","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SubPanelTitle.vue?vue&type=style&index=0&id=43c30758&scoped=true&lang=scss&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Article.vue?vue&type=style&index=0&id=62129744&scoped=true&lang=scss&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ValidationButton.vue?vue&type=style&index=0&id=ad96ba08&scoped=true&lang=scss&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FeaturesList.vue?vue&type=style&index=0&id=6c22161a&scoped=true&lang=scss&\"","module.exports = __webpack_public_path__ + \"img/logo-fondation-petzl.4b665657.jpg\";"],"sourceRoot":""}